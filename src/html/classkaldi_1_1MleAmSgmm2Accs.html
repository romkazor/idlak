<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Kaldi: MleAmSgmm2Accs Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" href="favicon.ico" type="image/x-icon" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" /> 
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
 <td id="projectlogo"><a href="http://kaldi-asr.org/"><img alt="Logo" src="KaldiTextAndLogoSmall.png"/ style="padding: 3px 5px 1px 5px"></a></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname" style="display:none">Kaldi
   </div>
  </td>
    <td style="padding-left: 0.5em;">
    <div id="projectbrief" style="display:none"></div>
    </td>
   <!--END PROJECT_BRIEF-->
  <!--END !PROJECT_NAME-->
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classkaldi_1_1MleAmSgmm2Accs.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classkaldi_1_1MleAmSgmm2Accs-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">MleAmSgmm2Accs Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class for the accumulators associated with the phonetic-subspace model parameters.  
 <a href="classkaldi_1_1MleAmSgmm2Accs.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="estimate-am-sgmm2_8h_source.html">estimate-am-sgmm2.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for MleAmSgmm2Accs:</div>
<div class="dyncontent">
<div class="center"><img src="classkaldi_1_1MleAmSgmm2Accs__coll__graph.png" border="0" usemap="#MleAmSgmm2Accs_coll__map" alt="Collaboration graph"/></div>
<map name="MleAmSgmm2Accs_coll__map" id="MleAmSgmm2Accs_coll__map">
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab3e4302031a688be081da04a62eee5e7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MleAmSgmm2Accs.html#ab3e4302031a688be081da04a62eee5e7">MleAmSgmm2Accs</a> (<a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> rand_prune=1.0e-05)</td></tr>
<tr class="separator:ab3e4302031a688be081da04a62eee5e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a954c211e78ad22365dcf48d9e19a9b62"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MleAmSgmm2Accs.html#a954c211e78ad22365dcf48d9e19a9b62">MleAmSgmm2Accs</a> (const <a class="el" href="classkaldi_1_1AmSgmm2.html">AmSgmm2</a> &amp;model, <a class="el" href="namespacekaldi.html#a310aadae61c9f86834bef308e0f3081f">SgmmUpdateFlagsType</a> flags, <a class="el" href="classbool.html">bool</a> have_spk_vecs, <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> rand_prune=1.0e-05)</td></tr>
<tr class="separator:a954c211e78ad22365dcf48d9e19a9b62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b427e74339834ab6910437182f29abf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MleAmSgmm2Accs.html#a7b427e74339834ab6910437182f29abf">~MleAmSgmm2Accs</a> ()</td></tr>
<tr class="separator:a7b427e74339834ab6910437182f29abf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a766484031c247f04d917764ac543541e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MleAmSgmm2Accs.html#a766484031c247f04d917764ac543541e">Read</a> (std::istream &amp;in_stream, <a class="el" href="classbool.html">bool</a> binary, <a class="el" href="classbool.html">bool</a> add)</td></tr>
<tr class="separator:a766484031c247f04d917764ac543541e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affa097bf4d31dd363669a7de66a970ac"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MleAmSgmm2Accs.html#affa097bf4d31dd363669a7de66a970ac">Write</a> (std::ostream &amp;out_stream, <a class="el" href="classbool.html">bool</a> binary) const</td></tr>
<tr class="separator:affa097bf4d31dd363669a7de66a970ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fc63343debe8b5c2a06c65de4a5efd6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MleAmSgmm2Accs.html#a6fc63343debe8b5c2a06c65de4a5efd6">Check</a> (const <a class="el" href="classkaldi_1_1AmSgmm2.html">AmSgmm2</a> &amp;model, <a class="el" href="classbool.html">bool</a> show_properties=true) const</td></tr>
<tr class="memdesc:a6fc63343debe8b5c2a06c65de4a5efd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks the various accumulators for correct sizes given a model.  <a href="#a6fc63343debe8b5c2a06c65de4a5efd6">More...</a><br /></td></tr>
<tr class="separator:a6fc63343debe8b5c2a06c65de4a5efd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a472e18624e02d091340fea51a3af3b02"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MleAmSgmm2Accs.html#a472e18624e02d091340fea51a3af3b02">ResizeAccumulators</a> (const <a class="el" href="classkaldi_1_1AmSgmm2.html">AmSgmm2</a> &amp;model, <a class="el" href="namespacekaldi.html#a310aadae61c9f86834bef308e0f3081f">SgmmUpdateFlagsType</a> flags, <a class="el" href="classbool.html">bool</a> have_spk_vecs)</td></tr>
<tr class="memdesc:a472e18624e02d091340fea51a3af3b02"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resizes the accumulators to the correct sizes given the model.  <a href="#a472e18624e02d091340fea51a3af3b02">More...</a><br /></td></tr>
<tr class="separator:a472e18624e02d091340fea51a3af3b02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74fc1508b79b808d827e85d6a8eb9ec9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MleAmSgmm2Accs.html#a74fc1508b79b808d827e85d6a8eb9ec9">Accumulate</a> (const <a class="el" href="classkaldi_1_1AmSgmm2.html">AmSgmm2</a> &amp;model, const <a class="el" href="structkaldi_1_1Sgmm2PerFrameDerivedVars.html">Sgmm2PerFrameDerivedVars</a> &amp;frame_vars, int32 pdf_index, <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> weight, <a class="el" href="classkaldi_1_1Sgmm2PerSpkDerivedVars.html">Sgmm2PerSpkDerivedVars</a> *spk_vars)</td></tr>
<tr class="memdesc:a74fc1508b79b808d827e85d6a8eb9ec9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns likelihood.  <a href="#a74fc1508b79b808d827e85d6a8eb9ec9">More...</a><br /></td></tr>
<tr class="separator:a74fc1508b79b808d827e85d6a8eb9ec9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dba22f84b6cf6572ece591822974e52"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MleAmSgmm2Accs.html#a1dba22f84b6cf6572ece591822974e52">AccumulateFromPosteriors</a> (const <a class="el" href="classkaldi_1_1AmSgmm2.html">AmSgmm2</a> &amp;model, const <a class="el" href="structkaldi_1_1Sgmm2PerFrameDerivedVars.html">Sgmm2PerFrameDerivedVars</a> &amp;frame_vars, const <a class="el" href="classkaldi_1_1Matrix.html">Matrix</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;posteriors, int32 pdf_index, <a class="el" href="classkaldi_1_1Sgmm2PerSpkDerivedVars.html">Sgmm2PerSpkDerivedVars</a> *spk_vars)</td></tr>
<tr class="memdesc:a1dba22f84b6cf6572ece591822974e52"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns count accumulated (may differ from posteriors.Sum() due to weight pruning).  <a href="#a1dba22f84b6cf6572ece591822974e52">More...</a><br /></td></tr>
<tr class="separator:a1dba22f84b6cf6572ece591822974e52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95435702b1c322c118fdcea58ed7d612"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MleAmSgmm2Accs.html#a95435702b1c322c118fdcea58ed7d612">CommitStatsForSpk</a> (const <a class="el" href="classkaldi_1_1AmSgmm2.html">AmSgmm2</a> &amp;model, const <a class="el" href="classkaldi_1_1Sgmm2PerSpkDerivedVars.html">Sgmm2PerSpkDerivedVars</a> &amp;spk_vars)</td></tr>
<tr class="memdesc:a95435702b1c322c118fdcea58ed7d612"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accumulates global stats for the current speaker (if applicable).  <a href="#a95435702b1c322c118fdcea58ed7d612">More...</a><br /></td></tr>
<tr class="separator:a95435702b1c322c118fdcea58ed7d612"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a047f91e2923271a2d890107a52ee3300"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MleAmSgmm2Accs.html#a047f91e2923271a2d890107a52ee3300">GetStateOccupancies</a> (<a class="el" href="classkaldi_1_1Vector.html">Vector</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *occs) const</td></tr>
<tr class="memdesc:a047f91e2923271a2d890107a52ee3300"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accessors.  <a href="#a047f91e2923271a2d890107a52ee3300">More...</a><br /></td></tr>
<tr class="separator:a047f91e2923271a2d890107a52ee3300"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa710bc48bb155b286e3aa253546ea7b9"><td class="memItemLeft" align="right" valign="top">int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MleAmSgmm2Accs.html#aa710bc48bb155b286e3aa253546ea7b9">FeatureDim</a> () const</td></tr>
<tr class="separator:aa710bc48bb155b286e3aa253546ea7b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af35dab2db5171884052c2d9b57c28afc"><td class="memItemLeft" align="right" valign="top">int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MleAmSgmm2Accs.html#af35dab2db5171884052c2d9b57c28afc">PhoneSpaceDim</a> () const</td></tr>
<tr class="separator:af35dab2db5171884052c2d9b57c28afc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae13f7c74eb93b128c78b90e2131a8e70"><td class="memItemLeft" align="right" valign="top">int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MleAmSgmm2Accs.html#ae13f7c74eb93b128c78b90e2131a8e70">NumPdfs</a> () const</td></tr>
<tr class="separator:ae13f7c74eb93b128c78b90e2131a8e70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71de1fc5c6eaab6e6b9158822de552c8"><td class="memItemLeft" align="right" valign="top">int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MleAmSgmm2Accs.html#a71de1fc5c6eaab6e6b9158822de552c8">NumGroups</a> () const</td></tr>
<tr class="separator:a71de1fc5c6eaab6e6b9158822de552c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3b124f78014405a43c4b799a96bed97"><td class="memItemLeft" align="right" valign="top">int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MleAmSgmm2Accs.html#aa3b124f78014405a43c4b799a96bed97">NumGauss</a> () const</td></tr>
<tr class="separator:aa3b124f78014405a43c4b799a96bed97"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a3d41330b8e2f3c3c47d2fa660820b518"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MleAmSgmm2Accs.html#a3d41330b8e2f3c3c47d2fa660820b518">KALDI_DISALLOW_COPY_AND_ASSIGN</a> (<a class="el" href="classkaldi_1_1MleAmSgmm2Accs.html">MleAmSgmm2Accs</a>)</td></tr>
<tr class="separator:a3d41330b8e2f3c3c47d2fa660820b518"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a0a2e94703301da6f55bedf8183bcff39"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classkaldi_1_1Matrix.html">Matrix</a>&lt; double &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MleAmSgmm2Accs.html#a0a2e94703301da6f55bedf8183bcff39">Y_</a></td></tr>
<tr class="memdesc:a0a2e94703301da6f55bedf8183bcff39"><td class="mdescLeft">&#160;</td><td class="mdescRight">The stats which are not tied to any state.  <a href="#a0a2e94703301da6f55bedf8183bcff39">More...</a><br /></td></tr>
<tr class="separator:a0a2e94703301da6f55bedf8183bcff39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89ac772ad34d9a54a888878fe747525b"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classkaldi_1_1Matrix.html">Matrix</a>&lt; double &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MleAmSgmm2Accs.html#a89ac772ad34d9a54a888878fe747525b">Z_</a></td></tr>
<tr class="memdesc:a89ac772ad34d9a54a888878fe747525b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stats Z_{i} for speaker-subspace projections N. Dim is [I][D][T].  <a href="#a89ac772ad34d9a54a888878fe747525b">More...</a><br /></td></tr>
<tr class="separator:a89ac772ad34d9a54a888878fe747525b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2545b9e5768cf47a08c648fda6b794d3"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classkaldi_1_1SpMatrix.html">SpMatrix</a>&lt; double &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MleAmSgmm2Accs.html#a2545b9e5768cf47a08c648fda6b794d3">R_</a></td></tr>
<tr class="memdesc:a2545b9e5768cf47a08c648fda6b794d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">R_{i}, quadratic term for speaker subspace estimation. Dim is [I][T][T].  <a href="#a2545b9e5768cf47a08c648fda6b794d3">More...</a><br /></td></tr>
<tr class="separator:a2545b9e5768cf47a08c648fda6b794d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e4cc17a0737faace498025a5afe4552"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classkaldi_1_1SpMatrix.html">SpMatrix</a>&lt; double &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MleAmSgmm2Accs.html#a3e4cc17a0737faace498025a5afe4552">S_</a></td></tr>
<tr class="memdesc:a3e4cc17a0737faace498025a5afe4552"><td class="mdescLeft">&#160;</td><td class="mdescRight">S_{i}^{-}, scatter of adapted feature vectors x_{i}(t). Dim is [I][D][D].  <a href="#a3e4cc17a0737faace498025a5afe4552">More...</a><br /></td></tr>
<tr class="separator:a3e4cc17a0737faace498025a5afe4552"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1930fef1612d54bcfe0c522b6a64ee8a"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classkaldi_1_1Matrix.html">Matrix</a>&lt; double &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MleAmSgmm2Accs.html#a1930fef1612d54bcfe0c522b6a64ee8a">y_</a></td></tr>
<tr class="memdesc:a1930fef1612d54bcfe0c522b6a64ee8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The SGMM state specific stats.  <a href="#a1930fef1612d54bcfe0c522b6a64ee8a">More...</a><br /></td></tr>
<tr class="separator:a1930fef1612d54bcfe0c522b6a64ee8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab335142c25f5e0e725228652cccc13d0"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classkaldi_1_1Matrix.html">Matrix</a>&lt; double &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MleAmSgmm2Accs.html#ab335142c25f5e0e725228652cccc13d0">gamma_</a></td></tr>
<tr class="memdesc:ab335142c25f5e0e725228652cccc13d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gaussian occupancies gamma_{jmi} for each substate and Gaussian index, pooled over groups.  <a href="#ab335142c25f5e0e725228652cccc13d0">More...</a><br /></td></tr>
<tr class="separator:ab335142c25f5e0e725228652cccc13d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27764df0bf839b15b82ed59752923b4a"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classkaldi_1_1Matrix.html">Matrix</a>&lt; double &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MleAmSgmm2Accs.html#a27764df0bf839b15b82ed59752923b4a">a_</a></td></tr>
<tr class="memdesc:a27764df0bf839b15b82ed59752923b4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">[SSGMM] These a_{jmi} quantities are dimensionally the same as the gamma quantities.  <a href="#a27764df0bf839b15b82ed59752923b4a">More...</a><br /></td></tr>
<tr class="separator:a27764df0bf839b15b82ed59752923b4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09481f5d4524b97d7bcb77148ffd1d23"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classkaldi_1_1Matrix.html">Matrix</a>&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MleAmSgmm2Accs.html#a09481f5d4524b97d7bcb77148ffd1d23">t_</a></td></tr>
<tr class="memdesc:a09481f5d4524b97d7bcb77148ffd1d23"><td class="mdescLeft">&#160;</td><td class="mdescRight">[SSGMM] each row is one of the t_i quantities in the less-exact version of the SSGMM update for the speaker weight projections.  <a href="#a09481f5d4524b97d7bcb77148ffd1d23">More...</a><br /></td></tr>
<tr class="separator:a09481f5d4524b97d7bcb77148ffd1d23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2845d3d9bf38255cd9e6a247c13424b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classkaldi_1_1Vector.html">Vector</a>&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MleAmSgmm2Accs.html#ad2845d3d9bf38255cd9e6a247c13424b">a_s_</a></td></tr>
<tr class="memdesc:ad2845d3d9bf38255cd9e6a247c13424b"><td class="mdescLeft">&#160;</td><td class="mdescRight">[SSGMM], this is a per-speaker variable storing the a_i^{(s)} quantities that we will use in order to compute the non-speaker- specific quantities [see eqs.  <a href="#ad2845d3d9bf38255cd9e6a247c13424b">More...</a><br /></td></tr>
<tr class="separator:ad2845d3d9bf38255cd9e6a247c13424b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a2c03a7a784c564939cee6cf0ce1503"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classkaldi_1_1SpMatrix.html">SpMatrix</a>&lt; double &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MleAmSgmm2Accs.html#a0a2c03a7a784c564939cee6cf0ce1503">U_</a></td></tr>
<tr class="memdesc:a0a2c03a7a784c564939cee6cf0ce1503"><td class="mdescLeft">&#160;</td><td class="mdescRight">the U_i quantities from the less-exact version of the SSGMM update for the speaker weight projections.  <a href="#a0a2c03a7a784c564939cee6cf0ce1503">More...</a><br /></td></tr>
<tr class="separator:a0a2c03a7a784c564939cee6cf0ce1503"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97ec4c75220111b6775f9e27fca2c117"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classkaldi_1_1Vector.html">Vector</a>&lt; double &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MleAmSgmm2Accs.html#a97ec4c75220111b6775f9e27fca2c117">gamma_c_</a></td></tr>
<tr class="memdesc:a97ec4c75220111b6775f9e27fca2c117"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sub-state occupancies gamma_{jm}^{(c)} for each sub-state.  <a href="#a97ec4c75220111b6775f9e27fca2c117">More...</a><br /></td></tr>
<tr class="separator:a97ec4c75220111b6775f9e27fca2c117"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a8bf205f234b2c4d1fb3b78d66da7f8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classkaldi_1_1Vector.html">Vector</a>&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MleAmSgmm2Accs.html#a5a8bf205f234b2c4d1fb3b78d66da7f8">gamma_s_</a></td></tr>
<tr class="memdesc:a5a8bf205f234b2c4d1fb3b78d66da7f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">gamma_{i}^{(s)}.  <a href="#a5a8bf205f234b2c4d1fb3b78d66da7f8">More...</a><br /></td></tr>
<tr class="separator:a5a8bf205f234b2c4d1fb3b78d66da7f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0e7c36868476594fbc8f83d4f04ab58"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MleAmSgmm2Accs.html#ae0e7c36868476594fbc8f83d4f04ab58">total_frames_</a></td></tr>
<tr class="separator:ae0e7c36868476594fbc8f83d4f04ab58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20c6a52171036e613e0f3d768e91b905"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MleAmSgmm2Accs.html#a20c6a52171036e613e0f3d768e91b905">total_like_</a></td></tr>
<tr class="separator:a20c6a52171036e613e0f3d768e91b905"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bff4c5c88bf8eeae5c9fc04a7f1ecf1"><td class="memItemLeft" align="right" valign="top">int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MleAmSgmm2Accs.html#a6bff4c5c88bf8eeae5c9fc04a7f1ecf1">feature_dim_</a></td></tr>
<tr class="memdesc:a6bff4c5c88bf8eeae5c9fc04a7f1ecf1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dimensionality of various subspaces.  <a href="#a6bff4c5c88bf8eeae5c9fc04a7f1ecf1">More...</a><br /></td></tr>
<tr class="separator:a6bff4c5c88bf8eeae5c9fc04a7f1ecf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca127a1d0cd66fd41332c87a9b84d24d"><td class="memItemLeft" align="right" valign="top">int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MleAmSgmm2Accs.html#aca127a1d0cd66fd41332c87a9b84d24d">phn_space_dim_</a></td></tr>
<tr class="separator:aca127a1d0cd66fd41332c87a9b84d24d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ceee077c0ba5d4d5aa0336619bb73c2"><td class="memItemLeft" align="right" valign="top">int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MleAmSgmm2Accs.html#a4ceee077c0ba5d4d5aa0336619bb73c2">spk_space_dim_</a></td></tr>
<tr class="separator:a4ceee077c0ba5d4d5aa0336619bb73c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17aa48bffd901faf3238e31cb141e18a"><td class="memItemLeft" align="right" valign="top">int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MleAmSgmm2Accs.html#a17aa48bffd901faf3238e31cb141e18a">num_gaussians_</a></td></tr>
<tr class="separator:a17aa48bffd901faf3238e31cb141e18a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdf59753b6f2b237f080a13a5c643516"><td class="memItemLeft" align="right" valign="top">int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MleAmSgmm2Accs.html#acdf59753b6f2b237f080a13a5c643516">num_pdfs_</a></td></tr>
<tr class="separator:acdf59753b6f2b237f080a13a5c643516"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a499c25e27ab7e173a47a0deedee71208"><td class="memItemLeft" align="right" valign="top">int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MleAmSgmm2Accs.html#a499c25e27ab7e173a47a0deedee71208">num_groups_</a></td></tr>
<tr class="memdesc:a499c25e27ab7e173a47a0deedee71208"><td class="mdescLeft">&#160;</td><td class="mdescRight">Other model specifications.  <a href="#a499c25e27ab7e173a47a0deedee71208">More...</a><br /></td></tr>
<tr class="separator:a499c25e27ab7e173a47a0deedee71208"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa19bc4619d4a1d60e886185b7be44094"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MleAmSgmm2Accs.html#aa19bc4619d4a1d60e886185b7be44094">rand_prune_</a></td></tr>
<tr class="separator:aa19bc4619d4a1d60e886185b7be44094"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a86f2b806c4f2c996417e4fb033d2d0a3"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MleAmSgmm2Accs.html#a86f2b806c4f2c996417e4fb033d2d0a3">MleAmSgmm2Updater</a></td></tr>
<tr class="separator:a86f2b806c4f2c996417e4fb033d2d0a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e35829d34dc3d0a79157c9e3c916ef4"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MleAmSgmm2Accs.html#a9e35829d34dc3d0a79157c9e3c916ef4">EbwAmSgmm2Updater</a></td></tr>
<tr class="separator:a9e35829d34dc3d0a79157c9e3c916ef4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class for the accumulators associated with the phonetic-subspace model parameters. </p>

<p class="definition">Definition at line <a class="el" href="estimate-am-sgmm2_8h_source.html#l00119">119</a> of file <a class="el" href="estimate-am-sgmm2_8h_source.html">estimate-am-sgmm2.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ab3e4302031a688be081da04a62eee5e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3e4302031a688be081da04a62eee5e7">&#9670;&nbsp;</a></span>MleAmSgmm2Accs() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classkaldi_1_1MleAmSgmm2Accs.html">MleAmSgmm2Accs</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a>&#160;</td>
          <td class="paramname"><em>rand_prune</em> = <code>1.0e-05</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="estimate-am-sgmm2_8h_source.html#l00121">121</a> of file <a class="el" href="estimate-am-sgmm2_8h_source.html">estimate-am-sgmm2.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;      : <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#ae0e7c36868476594fbc8f83d4f04ab58">total_frames_</a>(0.0), <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a20c6a52171036e613e0f3d768e91b905">total_like_</a>(0.0), <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a6bff4c5c88bf8eeae5c9fc04a7f1ecf1">feature_dim_</a>(0),</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#aca127a1d0cd66fd41332c87a9b84d24d">phn_space_dim_</a>(0), <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a4ceee077c0ba5d4d5aa0336619bb73c2">spk_space_dim_</a>(0), <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a17aa48bffd901faf3238e31cb141e18a">num_gaussians_</a>(0),</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#acdf59753b6f2b237f080a13a5c643516">num_pdfs_</a>(0), <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a499c25e27ab7e173a47a0deedee71208">num_groups_</a>(0), <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#aa19bc4619d4a1d60e886185b7be44094">rand_prune_</a>(rand_prune) {}</div><div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_acdf59753b6f2b237f080a13a5c643516"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#acdf59753b6f2b237f080a13a5c643516">kaldi::MleAmSgmm2Accs::num_pdfs_</a></div><div class="ttdeci">int32 num_pdfs_</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00234">estimate-am-sgmm2.h:234</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a4ceee077c0ba5d4d5aa0336619bb73c2"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a4ceee077c0ba5d4d5aa0336619bb73c2">kaldi::MleAmSgmm2Accs::spk_space_dim_</a></div><div class="ttdeci">int32 spk_space_dim_</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00233">estimate-am-sgmm2.h:233</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a17aa48bffd901faf3238e31cb141e18a"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a17aa48bffd901faf3238e31cb141e18a">kaldi::MleAmSgmm2Accs::num_gaussians_</a></div><div class="ttdeci">int32 num_gaussians_</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00234">estimate-am-sgmm2.h:234</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a20c6a52171036e613e0f3d768e91b905"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a20c6a52171036e613e0f3d768e91b905">kaldi::MleAmSgmm2Accs::total_like_</a></div><div class="ttdeci">double total_like_</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00230">estimate-am-sgmm2.h:230</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_aa19bc4619d4a1d60e886185b7be44094"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#aa19bc4619d4a1d60e886185b7be44094">kaldi::MleAmSgmm2Accs::rand_prune_</a></div><div class="ttdeci">BaseFloat rand_prune_</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00236">estimate-am-sgmm2.h:236</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a499c25e27ab7e173a47a0deedee71208"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a499c25e27ab7e173a47a0deedee71208">kaldi::MleAmSgmm2Accs::num_groups_</a></div><div class="ttdeci">int32 num_groups_</div><div class="ttdoc">Other model specifications. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00234">estimate-am-sgmm2.h:234</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_aca127a1d0cd66fd41332c87a9b84d24d"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#aca127a1d0cd66fd41332c87a9b84d24d">kaldi::MleAmSgmm2Accs::phn_space_dim_</a></div><div class="ttdeci">int32 phn_space_dim_</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00233">estimate-am-sgmm2.h:233</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a6bff4c5c88bf8eeae5c9fc04a7f1ecf1"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a6bff4c5c88bf8eeae5c9fc04a7f1ecf1">kaldi::MleAmSgmm2Accs::feature_dim_</a></div><div class="ttdeci">int32 feature_dim_</div><div class="ttdoc">Dimensionality of various subspaces. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00233">estimate-am-sgmm2.h:233</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_ae0e7c36868476594fbc8f83d4f04ab58"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#ae0e7c36868476594fbc8f83d4f04ab58">kaldi::MleAmSgmm2Accs::total_frames_</a></div><div class="ttdeci">double total_frames_</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00230">estimate-am-sgmm2.h:230</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a954c211e78ad22365dcf48d9e19a9b62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a954c211e78ad22365dcf48d9e19a9b62">&#9670;&nbsp;</a></span>MleAmSgmm2Accs() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classkaldi_1_1MleAmSgmm2Accs.html">MleAmSgmm2Accs</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1AmSgmm2.html">AmSgmm2</a> &amp;&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#a310aadae61c9f86834bef308e0f3081f">SgmmUpdateFlagsType</a>&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>have_spk_vecs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a>&#160;</td>
          <td class="paramname"><em>rand_prune</em> = <code>1.0e-05</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="estimate-am-sgmm2_8h_source.html#l00126">126</a> of file <a class="el" href="estimate-am-sgmm2_8h_source.html">estimate-am-sgmm2.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;      : <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#ae0e7c36868476594fbc8f83d4f04ab58">total_frames_</a>(0.0), <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a20c6a52171036e613e0f3d768e91b905">total_like_</a>(0.0), <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#aa19bc4619d4a1d60e886185b7be44094">rand_prune_</a>(rand_prune) {</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a472e18624e02d091340fea51a3af3b02">ResizeAccumulators</a>(model, flags, have_spk_vecs);</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  }</div><div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a20c6a52171036e613e0f3d768e91b905"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a20c6a52171036e613e0f3d768e91b905">kaldi::MleAmSgmm2Accs::total_like_</a></div><div class="ttdeci">double total_like_</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00230">estimate-am-sgmm2.h:230</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_aa19bc4619d4a1d60e886185b7be44094"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#aa19bc4619d4a1d60e886185b7be44094">kaldi::MleAmSgmm2Accs::rand_prune_</a></div><div class="ttdeci">BaseFloat rand_prune_</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00236">estimate-am-sgmm2.h:236</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_ae0e7c36868476594fbc8f83d4f04ab58"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#ae0e7c36868476594fbc8f83d4f04ab58">kaldi::MleAmSgmm2Accs::total_frames_</a></div><div class="ttdeci">double total_frames_</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00230">estimate-am-sgmm2.h:230</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a472e18624e02d091340fea51a3af3b02"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a472e18624e02d091340fea51a3af3b02">kaldi::MleAmSgmm2Accs::ResizeAccumulators</a></div><div class="ttdeci">void ResizeAccumulators(const AmSgmm2 &amp;model, SgmmUpdateFlagsType flags, bool have_spk_vecs)</div><div class="ttdoc">Resizes the accumulators to the correct sizes given the model. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8cc_source.html#l00365">estimate-am-sgmm2.cc:365</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7b427e74339834ab6910437182f29abf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b427e74339834ab6910437182f29abf">&#9670;&nbsp;</a></span>~MleAmSgmm2Accs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">~<a class="el" href="classkaldi_1_1MleAmSgmm2Accs.html">MleAmSgmm2Accs</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="estimate-am-sgmm2_8cc_source.html#l01945">1945</a> of file <a class="el" href="estimate-am-sgmm2_8cc_source.html">estimate-am-sgmm2.cc</a>.</p>

<p class="reference">References <a class="el" href="estimate-am-sgmm2_8h_source.html#l00404">MleSgmm2SpeakerAccs::gamma_s_</a>, <a class="el" href="kaldi-error_8h_source.html#l00126">KALDI_ERR</a>, and <a class="el" href="kaldi-vector_8cc_source.html#l00693">VectorBase&lt; Real &gt;::Sum()</a>.</p>
<div class="fragment"><div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;                                {</div><div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a5a8bf205f234b2c4d1fb3b78d66da7f8">gamma_s_</a>.<a class="code" href="classkaldi_1_1VectorBase.html#ae7089fd656218302336300dc42ae55c1">Sum</a>() != 0.0)</div><div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;    <a class="code" href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a> &lt;&lt; <span class="stringliteral">&quot;In destructor of MleAmSgmm2Accs: detected that you forgot to &quot;</span></div><div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;        <span class="stringliteral">&quot;call CommitStatsForSpk()&quot;</span>;</div><div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;}</div><div class="ttc" id="group__error__group_html_ga0251fa005e2fdb1dcc6e24f06afe3b1f"><div class="ttname"><a href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a></div><div class="ttdeci">#define KALDI_ERR</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00126">kaldi-error.h:126</a></div></div>
<div class="ttc" id="classkaldi_1_1VectorBase_html_ae7089fd656218302336300dc42ae55c1"><div class="ttname"><a href="classkaldi_1_1VectorBase.html#ae7089fd656218302336300dc42ae55c1">kaldi::VectorBase::Sum</a></div><div class="ttdeci">Real Sum() const</div><div class="ttdoc">Returns sum of the elements. </div><div class="ttdef"><b>Definition:</b> <a href="kaldi-vector_8cc_source.html#l00693">kaldi-vector.cc:693</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a5a8bf205f234b2c4d1fb3b78d66da7f8"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a5a8bf205f234b2c4d1fb3b78d66da7f8">kaldi::MleAmSgmm2Accs::gamma_s_</a></div><div class="ttdeci">Vector&lt; double &gt; gamma_s_</div><div class="ttdoc">gamma_{i}^{(s)}. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00228">estimate-am-sgmm2.h:228</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a74fc1508b79b808d827e85d6a8eb9ec9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74fc1508b79b808d827e85d6a8eb9ec9">&#9670;&nbsp;</a></span>Accumulate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> Accumulate </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1AmSgmm2.html">AmSgmm2</a> &amp;&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structkaldi_1_1Sgmm2PerFrameDerivedVars.html">Sgmm2PerFrameDerivedVars</a> &amp;&#160;</td>
          <td class="paramname"><em>frame_vars</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32&#160;</td>
          <td class="paramname"><em>pdf_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a>&#160;</td>
          <td class="paramname"><em>weight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1Sgmm2PerSpkDerivedVars.html">Sgmm2PerSpkDerivedVars</a> *&#160;</td>
          <td class="paramname"><em>spk_vars</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns likelihood. </p>

<p class="definition">Definition at line <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00471">471</a> of file <a class="el" href="estimate-am-sgmm2_8cc_source.html">estimate-am-sgmm2.cc</a>.</p>

<p class="reference">References <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00487">MleAmSgmm2Accs::AccumulateFromPosteriors()</a>, <a class="el" href="am-sgmm2_8cc_source.html#l00574">AmSgmm2::ComponentPosteriors()</a>, <a class="el" href="arpa-file-parser-test_8cc_source.html#l00066">count</a>, <a class="el" href="kaldi-matrix_8cc_source.html#l01208">MatrixBase&lt; Real &gt;::Scale()</a>, and <a class="el" href="estimate-am-sgmm2_8h_source.html#l00230">MleAmSgmm2Accs::total_like_</a>.</p>

<p class="reference">Referenced by <a class="el" href="sgmm2-acc-stats_8cc_source.html#l00030">main()</a>.</p>
<div class="fragment"><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                                                                      {</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  <span class="comment">// Calculate Gaussian posteriors and collect statistics</span></div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  Matrix&lt;BaseFloat&gt; posteriors;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  <a class="code" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> log_like = model.ComponentPosteriors(frame_vars, j2, spk_vars, &amp;posteriors);</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  posteriors.Scale(weight);</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  <a class="code" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> <a class="code" href="arpa-file-parser-test_8cc.html#a951345011b75d2e8d9bfc18ca63510d2">count</a> = <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a1dba22f84b6cf6572ece591822974e52">AccumulateFromPosteriors</a>(model, frame_vars, posteriors,</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;                                             j2, spk_vars);</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  <span class="comment">// Note: total_frames_ is incremented in AccumulateFromPosteriors().</span></div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a20c6a52171036e613e0f3d768e91b905">total_like_</a> += count * log_like;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  <span class="keywordflow">return</span> log_like;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;}</div><div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a20c6a52171036e613e0f3d768e91b905"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a20c6a52171036e613e0f3d768e91b905">kaldi::MleAmSgmm2Accs::total_like_</a></div><div class="ttdeci">double total_like_</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00230">estimate-am-sgmm2.h:230</a></div></div>
<div class="ttc" id="arpa-file-parser-test_8cc_html_a951345011b75d2e8d9bfc18ca63510d2"><div class="ttname"><a href="arpa-file-parser-test_8cc.html#a951345011b75d2e8d9bfc18ca63510d2">count</a></div><div class="ttdeci">const size_t count</div><div class="ttdef"><b>Definition:</b> <a href="arpa-file-parser-test_8cc_source.html#l00066">arpa-file-parser-test.cc:66</a></div></div>
<div class="ttc" id="namespacekaldi_html_aa66ff8367094543664b3b6a13d77c139"><div class="ttname"><a href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">kaldi::BaseFloat</a></div><div class="ttdeci">float BaseFloat</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-types_8h_source.html#l00029">kaldi-types.h:29</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a1dba22f84b6cf6572ece591822974e52"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a1dba22f84b6cf6572ece591822974e52">kaldi::MleAmSgmm2Accs::AccumulateFromPosteriors</a></div><div class="ttdeci">BaseFloat AccumulateFromPosteriors(const AmSgmm2 &amp;model, const Sgmm2PerFrameDerivedVars &amp;frame_vars, const Matrix&lt; BaseFloat &gt; &amp;posteriors, int32 pdf_index, Sgmm2PerSpkDerivedVars *spk_vars)</div><div class="ttdoc">Returns count accumulated (may differ from posteriors.Sum() due to weight pruning). </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8cc_source.html#l00487">estimate-am-sgmm2.cc:487</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1dba22f84b6cf6572ece591822974e52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1dba22f84b6cf6572ece591822974e52">&#9670;&nbsp;</a></span>AccumulateFromPosteriors()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> AccumulateFromPosteriors </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1AmSgmm2.html">AmSgmm2</a> &amp;&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structkaldi_1_1Sgmm2PerFrameDerivedVars.html">Sgmm2PerFrameDerivedVars</a> &amp;&#160;</td>
          <td class="paramname"><em>frame_vars</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1Matrix.html">Matrix</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>posteriors</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32&#160;</td>
          <td class="paramname"><em>pdf_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1Sgmm2PerSpkDerivedVars.html">Sgmm2PerSpkDerivedVars</a> *&#160;</td>
          <td class="paramname"><em>spk_vars</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns count accumulated (may differ from posteriors.Sum() due to weight pruning). </p>

<p class="definition">Definition at line <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00487">487</a> of file <a class="el" href="estimate-am-sgmm2_8cc_source.html">estimate-am-sgmm2.cc</a>.</p>

<p class="reference">References <a class="el" href="estimate-am-sgmm2_8h_source.html#l00200">MleAmSgmm2Accs::a_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00213">MleAmSgmm2Accs::a_s_</a>, <a class="el" href="kaldi-vector_8cc_source.html#l01043">VectorBase&lt; Real &gt;::AddVec()</a>, <a class="el" href="am-sgmm2_8h_source.html#l00189">Sgmm2PerSpkDerivedVars::b_is</a>, <a class="el" href="kaldi-vector_8h_source.html#l00063">VectorBase&lt; Real &gt;::Dim()</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00233">MleAmSgmm2Accs::feature_dim_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00195">MleAmSgmm2Accs::gamma_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00223">MleAmSgmm2Accs::gamma_c_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00228">MleAmSgmm2Accs::gamma_s_</a>, <a class="el" href="am-sgmm2_8cc_source.html#l00948">AmSgmm2::GetDjms()</a>, <a class="el" href="am-sgmm2_8h_source.html#l00519">AmSgmm2::GetSubstateMean()</a>, <a class="el" href="am-sgmm2_8h_source.html#l00143">Sgmm2PerFrameDerivedVars::gselect</a>, <a class="el" href="mikolov-rnnlm-lib_8cc_source.html#l00066">rnnlm::i</a>, <a class="el" href="kaldi-error_8h_source.html#l00168">KALDI_ASSERT</a>, <a class="el" href="am-sgmm2_8h_source.html#l00357">AmSgmm2::NumSubstatesForGroup()</a>, <a class="el" href="am-sgmm2_8cc_source.html#l00196">AmSgmm2::Pdf2Group()</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00236">MleAmSgmm2Accs::rand_prune_</a>, <a class="el" href="kaldi-math_8h_source.html#l00174">kaldi::RandPrune()</a>, <a class="el" href="kaldi-matrix_8h_source.html#l00185">MatrixBase&lt; Real &gt;::Row()</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00188">MleAmSgmm2Accs::S_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00233">MleAmSgmm2Accs::spk_space_dim_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00230">MleAmSgmm2Accs::total_frames_</a>, <a class="el" href="am-sgmm2_8h_source.html#l00436">AmSgmm2::v_</a>, <a class="el" href="am-sgmm2_8h_source.html#l00187">Sgmm2PerSpkDerivedVars::v_s</a>, <a class="el" href="am-sgmm2_8h_source.html#l00442">AmSgmm2::w_jmi_</a>, <a class="el" href="am-sgmm2_8h_source.html#l00144">Sgmm2PerFrameDerivedVars::xt</a>, <a class="el" href="am-sgmm2_8h_source.html#l00145">Sgmm2PerFrameDerivedVars::xti</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00182">MleAmSgmm2Accs::Y_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00192">MleAmSgmm2Accs::y_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00184">MleAmSgmm2Accs::Z_</a>, and <a class="el" href="am-sgmm2_8h_source.html#l00146">Sgmm2PerFrameDerivedVars::zti</a>.</p>

<p class="reference">Referenced by <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00471">MleAmSgmm2Accs::Accumulate()</a>, and <a class="el" href="sgmm2-acc-stats-gpost_8cc_source.html#l00029">main()</a>.</p>
<div class="fragment"><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                                      {</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  <span class="keywordtype">double</span> tot_count = 0.0;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  <span class="keyword">const</span> vector&lt;int32&gt; &amp;gselect = frame_vars.gselect;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  <span class="comment">// Intermediate variables</span></div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  Vector&lt;BaseFloat&gt; gammat(gselect.size()), <span class="comment">// sum of gammas over mix-weight.</span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;      a_is_part(gselect.size()); <span class="comment">//</span></div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  Vector&lt;BaseFloat&gt; xt_jmi(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a6bff4c5c88bf8eeae5c9fc04a7f1ecf1">feature_dim_</a>), mu_jmi(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a6bff4c5c88bf8eeae5c9fc04a7f1ecf1">feature_dim_</a>),</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;      zt_jmi(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a4ceee077c0ba5d4d5aa0336619bb73c2">spk_space_dim_</a>);</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  int32 j1 = model.Pdf2Group(j2);</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  int32 num_substates = model.NumSubstatesForGroup(j1);</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  <span class="keywordflow">for</span> (int32 m = 0; m &lt; num_substates; m++) {</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <a class="code" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> d_jms = model.GetDjms(j1, m, spk_vars);</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <a class="code" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> gammat_jm = 0.0;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <span class="keywordflow">for</span> (int32 ki = 0; ki &lt; static_cast&lt;int32&gt;(gselect.size()); ki++) {</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;      int32 <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> = gselect[ki];</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;      <span class="comment">// Eq. (39): gamma_{jmi}(t) = p (j, m, i|t)</span></div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;      <a class="code" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> gammat_jmi = <a class="code" href="namespacekaldi.html#a995df7129090566956e018771032f7d5">RandPrune</a>(posteriors(ki, m), <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#aa19bc4619d4a1d60e886185b7be44094">rand_prune_</a>);</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;      <span class="keywordflow">if</span> (gammat_jmi == 0.0) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;      gammat(ki) += gammat_jmi;</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a5a8bf205f234b2c4d1fb3b78d66da7f8">gamma_s_</a>.<a class="code" href="classkaldi_1_1VectorBase.html#af3d58f15749a15d89b0ec5819dd7b7f2">Dim</a>() != 0)</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a5a8bf205f234b2c4d1fb3b78d66da7f8">gamma_s_</a>(i) += gammat_jmi;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;      gammat_jm += gammat_jmi;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;      <span class="comment">// Accumulate statistics for non-zero gaussian posteriors</span></div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;      tot_count += gammat_jmi;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#ab335142c25f5e0e725228652cccc13d0">gamma_</a>.empty()) {</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        <span class="comment">// Eq. (40): gamma_{jmi} = \sum_t gamma_{jmi}(t)</span></div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#ab335142c25f5e0e725228652cccc13d0">gamma_</a>[j1](m, <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>) += gammat_jmi;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;      }</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a1930fef1612d54bcfe0c522b6a64ee8a">y_</a>.empty()) {</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        <span class="comment">// Eq. (41): y_{jm} = \sum_{t, i} \gamma_{jmi}(t) z_{i}(t)</span></div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        <span class="comment">// Suggestion:  move this out of the loop over m</span></div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a1930fef1612d54bcfe0c522b6a64ee8a">y_</a>[j1].Row(m).AddVec(gammat_jmi, frame_vars.zti.Row(ki));</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;      }</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a0a2e94703301da6f55bedf8183bcff39">Y_</a>.empty()) {</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        <span class="comment">// Eq. (42): Y_{i} = \sum_{t, j, m} \gamma_{jmi}(t) x_{i}(t) v_{jm}^T</span></div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a0a2e94703301da6f55bedf8183bcff39">Y_</a>[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>].AddVecVec(gammat_jmi, frame_vars.xti.Row(ki),</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                        model.v_[j1].Row(m));</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;      }</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;      <span class="comment">// Accumulate for speaker projections</span></div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a89ac772ad34d9a54a888878fe747525b">Z_</a>.empty()) {</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a4ceee077c0ba5d4d5aa0336619bb73c2">spk_space_dim_</a> &gt; 0);</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        <span class="comment">// Eq. (43): x_{jmi}(t) = x_k(t) - M{i} v_{jm}</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        model.GetSubstateMean(j1, m, i, &amp;mu_jmi);</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        xt_jmi.CopyFromVec(frame_vars.xt);</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;        xt_jmi.AddVec(-1.0, mu_jmi);</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        <span class="comment">// Eq. (44): Z_{i} = \sum_{t, j, m} \gamma_{jmi}(t) x_{jmi}(t) v^{s}&#39;</span></div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        <span class="keywordflow">if</span> (spk_vars-&gt;v_s.Dim() != 0)  <span class="comment">// interpret empty v_s as zero.</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;          <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a89ac772ad34d9a54a888878fe747525b">Z_</a>[i].AddVecVec(gammat_jmi, xt_jmi, spk_vars-&gt;v_s);</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        <span class="comment">// Eq. (49): \gamma_{i}^{(s)} = \sum_{t\in\Tau(s), j, m} gamma_{jmi}</span></div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        <span class="comment">// Will be used when you call CommitStatsForSpk(), to update R_.</span></div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;      }</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    } <span class="comment">// loop over selected Gaussians</span></div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <span class="keywordflow">if</span> (gammat_jm != 0.0) {</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a27764df0bf839b15b82ed59752923b4a">a_</a>.empty()) { <span class="comment">// SSGMM code.</span></div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(d_jms &gt; 0);</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        <span class="comment">// below is eq. 40 in the MSR techreport.  Caution: there</span></div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        <span class="comment">// was an error in the original techreport.  The index i</span></div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        <span class="comment">// in the summation and the quantity \gamma_{jmi}^{(t)}</span></div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        <span class="comment">// should be differently named, e.g. i&#39;.</span></div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a27764df0bf839b15b82ed59752923b4a">a_</a>[j1].Row(m).AddVec(gammat_jm / d_jms, spk_vars-&gt;b_is);</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;      }</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#ad2845d3d9bf38255cd9e6a247c13424b">a_s_</a>.<a class="code" href="classkaldi_1_1VectorBase.html#af3d58f15749a15d89b0ec5819dd7b7f2">Dim</a>() != 0) { <span class="comment">// [SSGMM]</span></div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(d_jms &gt; 0);</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(!model.w_jmi_.empty());</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#ad2845d3d9bf38255cd9e6a247c13424b">a_s_</a>.<a class="code" href="classkaldi_1_1VectorBase.html#ab109eed73378866c0e8747379378ca44">AddVec</a>(gammat_jm / d_jms, model.w_jmi_[j1].Row(m));</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;      }</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a97ec4c75220111b6775f9e27fca2c117">gamma_c_</a>.empty())</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a97ec4c75220111b6775f9e27fca2c117">gamma_c_</a>[j2](m) += gammat_jm;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    }</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  } <span class="comment">// loop over substates</span></div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a3e4cc17a0737faace498025a5afe4552">S_</a>.empty()) {</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <span class="keywordflow">for</span> (int32 ki = 0; ki &lt; static_cast&lt;int32&gt;(gselect.size()); ki++) {</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;      <span class="comment">// Eq. (47): S_{i} = \sum_{t, j, m} \gamma_{jmi}(t) x_{i}(t) x_{i}(t)^T</span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;      <span class="keywordflow">if</span> (gammat(ki) != 0.0) {</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        int32 i = gselect[ki];</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a3e4cc17a0737faace498025a5afe4552">S_</a>[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>].AddVec2(gammat(ki), frame_vars.xti.Row(ki));</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;      }</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    }</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  }</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#ae0e7c36868476594fbc8f83d4f04ab58">total_frames_</a> += tot_count;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  <span class="keywordflow">return</span> tot_count;</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;}</div><div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a97ec4c75220111b6775f9e27fca2c117"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a97ec4c75220111b6775f9e27fca2c117">kaldi::MleAmSgmm2Accs::gamma_c_</a></div><div class="ttdeci">std::vector&lt; Vector&lt; double &gt; &gt; gamma_c_</div><div class="ttdoc">Sub-state occupancies gamma_{jm}^{(c)} for each sub-state. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00223">estimate-am-sgmm2.h:223</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a4ceee077c0ba5d4d5aa0336619bb73c2"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a4ceee077c0ba5d4d5aa0336619bb73c2">kaldi::MleAmSgmm2Accs::spk_space_dim_</a></div><div class="ttdeci">int32 spk_space_dim_</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00233">estimate-am-sgmm2.h:233</a></div></div>
<div class="ttc" id="namespacekaldi_html_a995df7129090566956e018771032f7d5"><div class="ttname"><a href="namespacekaldi.html#a995df7129090566956e018771032f7d5">kaldi::RandPrune</a></div><div class="ttdeci">Float RandPrune(Float post, BaseFloat prune_thresh, struct RandomState *state=NULL)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-math_8h_source.html#l00174">kaldi-math.h:174</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_aa19bc4619d4a1d60e886185b7be44094"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#aa19bc4619d4a1d60e886185b7be44094">kaldi::MleAmSgmm2Accs::rand_prune_</a></div><div class="ttdeci">BaseFloat rand_prune_</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00236">estimate-am-sgmm2.h:236</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a3e4cc17a0737faace498025a5afe4552"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a3e4cc17a0737faace498025a5afe4552">kaldi::MleAmSgmm2Accs::S_</a></div><div class="ttdeci">std::vector&lt; SpMatrix&lt; double &gt; &gt; S_</div><div class="ttdoc">S_{i}^{-}, scatter of adapted feature vectors x_{i}(t). Dim is [I][D][D]. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00188">estimate-am-sgmm2.h:188</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_ab335142c25f5e0e725228652cccc13d0"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#ab335142c25f5e0e725228652cccc13d0">kaldi::MleAmSgmm2Accs::gamma_</a></div><div class="ttdeci">std::vector&lt; Matrix&lt; double &gt; &gt; gamma_</div><div class="ttdoc">Gaussian occupancies gamma_{jmi} for each substate and Gaussian index, pooled over groups...</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00195">estimate-am-sgmm2.h:195</a></div></div>
<div class="ttc" id="namespacekaldi_html_aa66ff8367094543664b3b6a13d77c139"><div class="ttname"><a href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">kaldi::BaseFloat</a></div><div class="ttdeci">float BaseFloat</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-types_8h_source.html#l00029">kaldi-types.h:29</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a0a2e94703301da6f55bedf8183bcff39"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a0a2e94703301da6f55bedf8183bcff39">kaldi::MleAmSgmm2Accs::Y_</a></div><div class="ttdeci">std::vector&lt; Matrix&lt; double &gt; &gt; Y_</div><div class="ttdoc">The stats which are not tied to any state. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00182">estimate-am-sgmm2.h:182</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a1930fef1612d54bcfe0c522b6a64ee8a"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a1930fef1612d54bcfe0c522b6a64ee8a">kaldi::MleAmSgmm2Accs::y_</a></div><div class="ttdeci">std::vector&lt; Matrix&lt; double &gt; &gt; y_</div><div class="ttdoc">The SGMM state specific stats. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00192">estimate-am-sgmm2.h:192</a></div></div>
<div class="ttc" id="classkaldi_1_1VectorBase_html_af3d58f15749a15d89b0ec5819dd7b7f2"><div class="ttname"><a href="classkaldi_1_1VectorBase.html#af3d58f15749a15d89b0ec5819dd7b7f2">kaldi::VectorBase::Dim</a></div><div class="ttdeci">MatrixIndexT Dim() const</div><div class="ttdoc">Returns the dimension of the vector. </div><div class="ttdef"><b>Definition:</b> <a href="kaldi-vector_8h_source.html#l00063">kaldi-vector.h:63</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a27764df0bf839b15b82ed59752923b4a"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a27764df0bf839b15b82ed59752923b4a">kaldi::MleAmSgmm2Accs::a_</a></div><div class="ttdeci">std::vector&lt; Matrix&lt; double &gt; &gt; a_</div><div class="ttdoc">[SSGMM] These a_{jmi} quantities are dimensionally the same as the gamma quantities. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00200">estimate-am-sgmm2.h:200</a></div></div>
<div class="ttc" id="namespacernnlm_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">rnnlm::i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="mikolov-rnnlm-lib_8cc_source.html#l00066">mikolov-rnnlm-lib.cc:66</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_ad2845d3d9bf38255cd9e6a247c13424b"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#ad2845d3d9bf38255cd9e6a247c13424b">kaldi::MleAmSgmm2Accs::a_s_</a></div><div class="ttdeci">Vector&lt; double &gt; a_s_</div><div class="ttdoc">[SSGMM], this is a per-speaker variable storing the a_i^{(s)} quantities that we will use in order to...</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00213">estimate-am-sgmm2.h:213</a></div></div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00168">kaldi-error.h:168</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a6bff4c5c88bf8eeae5c9fc04a7f1ecf1"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a6bff4c5c88bf8eeae5c9fc04a7f1ecf1">kaldi::MleAmSgmm2Accs::feature_dim_</a></div><div class="ttdeci">int32 feature_dim_</div><div class="ttdoc">Dimensionality of various subspaces. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00233">estimate-am-sgmm2.h:233</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a89ac772ad34d9a54a888878fe747525b"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a89ac772ad34d9a54a888878fe747525b">kaldi::MleAmSgmm2Accs::Z_</a></div><div class="ttdeci">std::vector&lt; Matrix&lt; double &gt; &gt; Z_</div><div class="ttdoc">Stats Z_{i} for speaker-subspace projections N. Dim is [I][D][T]. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00184">estimate-am-sgmm2.h:184</a></div></div>
<div class="ttc" id="classkaldi_1_1VectorBase_html_ab109eed73378866c0e8747379378ca44"><div class="ttname"><a href="classkaldi_1_1VectorBase.html#ab109eed73378866c0e8747379378ca44">kaldi::VectorBase::AddVec</a></div><div class="ttdeci">void AddVec(const Real alpha, const VectorBase&lt; OtherReal &gt; &amp;v)</div><div class="ttdoc">Add vector : *this = *this + alpha * rv (with casting between floats and doubles) ...</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-vector_8cc_source.html#l01043">kaldi-vector.cc:1043</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_ae0e7c36868476594fbc8f83d4f04ab58"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#ae0e7c36868476594fbc8f83d4f04ab58">kaldi::MleAmSgmm2Accs::total_frames_</a></div><div class="ttdeci">double total_frames_</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00230">estimate-am-sgmm2.h:230</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a5a8bf205f234b2c4d1fb3b78d66da7f8"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a5a8bf205f234b2c4d1fb3b78d66da7f8">kaldi::MleAmSgmm2Accs::gamma_s_</a></div><div class="ttdeci">Vector&lt; double &gt; gamma_s_</div><div class="ttdoc">gamma_{i}^{(s)}. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00228">estimate-am-sgmm2.h:228</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6fc63343debe8b5c2a06c65de4a5efd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fc63343debe8b5c2a06c65de4a5efd6">&#9670;&nbsp;</a></span>Check()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Check </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1AmSgmm2.html">AmSgmm2</a> &amp;&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>show_properties</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks the various accumulators for correct sizes given a model. </p>
<p>With wrong sizes, assertion failure occurs. When the show_properties argument is set to true, dimensions and presence/absence of the various accumulators are printed. For use when accumulators are read from file. </p>

<p class="definition">Definition at line <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00213">213</a> of file <a class="el" href="estimate-am-sgmm2_8cc_source.html">estimate-am-sgmm2.cc</a>.</p>

<p class="reference">References <a class="el" href="estimate-am-sgmm2_8h_source.html#l00200">MleAmSgmm2Accs::a_</a>, <a class="el" href="kaldi-math_8h_source.html#l00264">kaldi::ApproxEqual()</a>, <a class="el" href="kaldi-vector_8h_source.html#l00063">VectorBase&lt; Real &gt;::Dim()</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00233">MleAmSgmm2Accs::feature_dim_</a>, <a class="el" href="am-sgmm2_8h_source.html#l00363">AmSgmm2::FeatureDim()</a>, <a class="el" href="kaldi-matrix_8cc_source.html#l01909">MatrixBase&lt; Real &gt;::FrobeniusNorm()</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00195">MleAmSgmm2Accs::gamma_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00223">MleAmSgmm2Accs::gamma_c_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00228">MleAmSgmm2Accs::gamma_s_</a>, <a class="el" href="mikolov-rnnlm-lib_8cc_source.html#l00066">rnnlm::i</a>, <a class="el" href="kaldi-vector_8cc_source.html#l00293">VectorBase&lt; Real &gt;::IsZero()</a>, <a class="el" href="kaldi-error_8h_source.html#l00168">KALDI_ASSERT</a>, <a class="el" href="kaldi-error_8h_source.html#l00126">KALDI_ERR</a>, <a class="el" href="kaldi-error_8h_source.html#l00132">KALDI_LOG</a>, <a class="el" href="kaldi-error_8h_source.html#l00129">KALDI_WARN</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00234">MleAmSgmm2Accs::num_gaussians_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00234">MleAmSgmm2Accs::num_groups_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00234">MleAmSgmm2Accs::num_pdfs_</a>, <a class="el" href="kaldi-matrix_8h_source.html#l00064">MatrixBase&lt; Real &gt;::NumCols()</a>, <a class="el" href="am-sgmm2_8h_source.html#l00360">AmSgmm2::NumGauss()</a>, <a class="el" href="am-sgmm2_8h_source.html#l00351">AmSgmm2::NumGroups()</a>, <a class="el" href="am-sgmm2_8h_source.html#l00350">AmSgmm2::NumPdfs()</a>, <a class="el" href="kaldi-matrix_8h_source.html#l00061">MatrixBase&lt; Real &gt;::NumRows()</a>, <a class="el" href="am-sgmm2_8h_source.html#l00357">AmSgmm2::NumSubstatesForGroup()</a>, <a class="el" href="am-sgmm2_8h_source.html#l00354">AmSgmm2::NumSubstatesForPdf()</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00233">MleAmSgmm2Accs::phn_space_dim_</a>, <a class="el" href="am-sgmm2_8h_source.html#l00361">AmSgmm2::PhoneSpaceDim()</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00186">MleAmSgmm2Accs::R_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00188">MleAmSgmm2Accs::S_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00233">MleAmSgmm2Accs::spk_space_dim_</a>, <a class="el" href="am-sgmm2_8h_source.html#l00362">AmSgmm2::SpkSpaceDim()</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00205">MleAmSgmm2Accs::t_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00217">MleAmSgmm2Accs::U_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00182">MleAmSgmm2Accs::Y_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00192">MleAmSgmm2Accs::y_</a>, and <a class="el" href="estimate-am-sgmm2_8h_source.html#l00184">MleAmSgmm2Accs::Z_</a>.</p>

<p class="reference">Referenced by <a class="el" href="sgmm2-est-ebw_8cc_source.html#l00028">main()</a>, and <a class="el" href="estimate-am-sgmm2-test_8cc_source.html#l00038">TestSgmm2AccsIO()</a>.</p>
<div class="fragment"><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                                                      {</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  <span class="keywordflow">if</span> (show_properties)</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <a class="code" href="group__error__group.html#gaf8fb55454306b60c9c1e07a6ef9d341a">KALDI_LOG</a> &lt;&lt; <span class="stringliteral">&quot;Sgmm2PdfModel: J1 = &quot;</span> &lt;&lt; <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a499c25e27ab7e173a47a0deedee71208">num_groups_</a> &lt;&lt; <span class="stringliteral">&quot;, J2 = &quot;</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;              &lt;&lt; <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#acdf59753b6f2b237f080a13a5c643516">num_pdfs_</a> &lt;&lt; <span class="stringliteral">&quot;, D = &quot;</span> &lt;&lt; <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a6bff4c5c88bf8eeae5c9fc04a7f1ecf1">feature_dim_</a> &lt;&lt; <span class="stringliteral">&quot;, S = &quot;</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;              &lt;&lt; <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#aca127a1d0cd66fd41332c87a9b84d24d">phn_space_dim_</a> &lt;&lt; <span class="stringliteral">&quot;, T = &quot;</span> &lt;&lt; <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a4ceee077c0ba5d4d5aa0336619bb73c2">spk_space_dim_</a> &lt;&lt; <span class="stringliteral">&quot;, I = &quot;</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;              &lt;&lt; <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a17aa48bffd901faf3238e31cb141e18a">num_gaussians_</a>;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#acdf59753b6f2b237f080a13a5c643516">num_pdfs_</a> == model.NumPdfs() &amp;&amp; <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#acdf59753b6f2b237f080a13a5c643516">num_pdfs_</a> &gt; 0);</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a499c25e27ab7e173a47a0deedee71208">num_groups_</a> == model.NumGroups() &amp;&amp; <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a499c25e27ab7e173a47a0deedee71208">num_groups_</a> &gt; 0);</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(num_gaussians_ == model.NumGauss() &amp;&amp; num_gaussians_ &gt; 0);</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a6bff4c5c88bf8eeae5c9fc04a7f1ecf1">feature_dim_</a> == model.FeatureDim() &amp;&amp; <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a6bff4c5c88bf8eeae5c9fc04a7f1ecf1">feature_dim_</a> &gt; 0);</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#aca127a1d0cd66fd41332c87a9b84d24d">phn_space_dim_</a> == model.PhoneSpaceDim() &amp;&amp; <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#aca127a1d0cd66fd41332c87a9b84d24d">phn_space_dim_</a> &gt; 0);</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a4ceee077c0ba5d4d5aa0336619bb73c2">spk_space_dim_</a> == model.SpkSpaceDim());</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  std::ostringstream debug_str;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a0a2e94703301da6f55bedf8183bcff39">Y_</a>.size() == 0) {</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    debug_str &lt;&lt; <span class="stringliteral">&quot;Y: no.  &quot;</span>;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#ab335142c25f5e0e725228652cccc13d0">gamma_</a>.size() != 0);</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a0a2e94703301da6f55bedf8183bcff39">Y_</a>.size() == <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a17aa48bffd901faf3238e31cb141e18a">num_gaussians_</a>));</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="keywordtype">bool</span> nz = <span class="keyword">false</span>;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="keywordflow">for</span> (int32 <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a17aa48bffd901faf3238e31cb141e18a">num_gaussians_</a>; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;      <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a0a2e94703301da6f55bedf8183bcff39">Y_</a>[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>].NumRows() == <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a6bff4c5c88bf8eeae5c9fc04a7f1ecf1">feature_dim_</a> &amp;&amp;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                   <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a0a2e94703301da6f55bedf8183bcff39">Y_</a>[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>].NumCols() == <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#aca127a1d0cd66fd41332c87a9b84d24d">phn_space_dim_</a>);</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;      <span class="keywordflow">if</span> (!nz &amp;&amp; <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a0a2e94703301da6f55bedf8183bcff39">Y_</a>[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>](0, 0) != 0) { nz = <span class="keyword">true</span>; }</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    }</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    debug_str &lt;&lt; <span class="stringliteral">&quot;Y: yes, &quot;</span> &lt;&lt; string(nz ? <span class="stringliteral">&quot;nonzero. &quot;</span> : <span class="stringliteral">&quot;zero. &quot;</span>);</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  }</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a89ac772ad34d9a54a888878fe747525b">Z_</a>.size() == 0) {</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a2545b9e5768cf47a08c648fda6b794d3">R_</a>.size() == 0);</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    debug_str &lt;&lt; <span class="stringliteral">&quot;Z, R: no.  &quot;</span>;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a5a8bf205f234b2c4d1fb3b78d66da7f8">gamma_s_</a>.<a class="code" href="classkaldi_1_1VectorBase.html#af3d58f15749a15d89b0ec5819dd7b7f2">Dim</a>() == <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a17aa48bffd901faf3238e31cb141e18a">num_gaussians_</a>);</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a89ac772ad34d9a54a888878fe747525b">Z_</a>.size() == <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a17aa48bffd901faf3238e31cb141e18a">num_gaussians_</a>));</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a2545b9e5768cf47a08c648fda6b794d3">R_</a>.size() == <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a17aa48bffd901faf3238e31cb141e18a">num_gaussians_</a>));</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keywordtype">bool</span> Z_nz = <span class="keyword">false</span>, R_nz = <span class="keyword">false</span>;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="keywordflow">for</span> (int32 <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a17aa48bffd901faf3238e31cb141e18a">num_gaussians_</a>; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;      <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a89ac772ad34d9a54a888878fe747525b">Z_</a>[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>].NumRows() == <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a6bff4c5c88bf8eeae5c9fc04a7f1ecf1">feature_dim_</a> &amp;&amp;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                   <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a89ac772ad34d9a54a888878fe747525b">Z_</a>[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>].NumCols() == <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a4ceee077c0ba5d4d5aa0336619bb73c2">spk_space_dim_</a>);</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;      <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a2545b9e5768cf47a08c648fda6b794d3">R_</a>[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>].NumRows() == <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a4ceee077c0ba5d4d5aa0336619bb73c2">spk_space_dim_</a>);</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;      <span class="keywordflow">if</span> (!Z_nz &amp;&amp; <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a89ac772ad34d9a54a888878fe747525b">Z_</a>[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>](0, 0) != 0) { Z_nz = <span class="keyword">true</span>; }</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;      <span class="keywordflow">if</span> (!R_nz &amp;&amp; <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a2545b9e5768cf47a08c648fda6b794d3">R_</a>[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>](0, 0) != 0) { R_nz = <span class="keyword">true</span>; }</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    }</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="keywordtype">bool</span> gamma_s_nz = !<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a5a8bf205f234b2c4d1fb3b78d66da7f8">gamma_s_</a>.<a class="code" href="classkaldi_1_1VectorBase.html#a29a1d6908849598792905bfbf888b410">IsZero</a>();</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    debug_str &lt;&lt; <span class="stringliteral">&quot;Z: yes, &quot;</span> &lt;&lt; string(Z_nz ? <span class="stringliteral">&quot;nonzero. &quot;</span> : <span class="stringliteral">&quot;zero. &quot;</span>);</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    debug_str &lt;&lt; <span class="stringliteral">&quot;R: yes, &quot;</span> &lt;&lt; string(R_nz ? <span class="stringliteral">&quot;nonzero. &quot;</span> : <span class="stringliteral">&quot;zero. &quot;</span>);</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    debug_str &lt;&lt; <span class="stringliteral">&quot;gamma_s: yes, &quot;</span> &lt;&lt; string(gamma_s_nz ? <span class="stringliteral">&quot;nonzero. &quot;</span> : <span class="stringliteral">&quot;zero. &quot;</span>);</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  }</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a3e4cc17a0737faace498025a5afe4552">S_</a>.size() == 0) {</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    debug_str &lt;&lt; <span class="stringliteral">&quot;S: no.  &quot;</span>;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#ab335142c25f5e0e725228652cccc13d0">gamma_</a>.size() != 0);</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keywordtype">bool</span> S_nz = <span class="keyword">false</span>;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a3e4cc17a0737faace498025a5afe4552">S_</a>.size() == <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a17aa48bffd901faf3238e31cb141e18a">num_gaussians_</a>));</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keywordflow">for</span> (int32 <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a17aa48bffd901faf3238e31cb141e18a">num_gaussians_</a>; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a3e4cc17a0737faace498025a5afe4552">S_</a>[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>].NumRows() == <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a6bff4c5c88bf8eeae5c9fc04a7f1ecf1">feature_dim_</a>);</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;      <span class="keywordflow">if</span> (!S_nz &amp;&amp; <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a3e4cc17a0737faace498025a5afe4552">S_</a>[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>](0, 0) != 0) { S_nz = <span class="keyword">true</span>; }</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    }</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    debug_str &lt;&lt; <span class="stringliteral">&quot;S: yes, &quot;</span> &lt;&lt; string(S_nz ? <span class="stringliteral">&quot;nonzero. &quot;</span> : <span class="stringliteral">&quot;zero. &quot;</span>);</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  }</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a1930fef1612d54bcfe0c522b6a64ee8a">y_</a>.size() == 0) {</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    debug_str &lt;&lt; <span class="stringliteral">&quot;y: no.  &quot;</span>;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#ab335142c25f5e0e725228652cccc13d0">gamma_</a>.size() != 0);</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordtype">bool</span> nz = <span class="keyword">false</span>;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a1930fef1612d54bcfe0c522b6a64ee8a">y_</a>.size() == <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a499c25e27ab7e173a47a0deedee71208">num_groups_</a>));</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="keywordflow">for</span> (int32 j1 = 0; j1 &lt; <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a499c25e27ab7e173a47a0deedee71208">num_groups_</a>; j1++) {</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;      <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a1930fef1612d54bcfe0c522b6a64ee8a">y_</a>[j1].NumRows() == model.NumSubstatesForGroup(j1));</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;      <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a1930fef1612d54bcfe0c522b6a64ee8a">y_</a>[j1].NumCols() == <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#aca127a1d0cd66fd41332c87a9b84d24d">phn_space_dim_</a>);</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;      <span class="keywordflow">if</span> (!nz &amp;&amp; <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a1930fef1612d54bcfe0c522b6a64ee8a">y_</a>[j1](0, 0) != 0) { nz = <span class="keyword">true</span>; }</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    }</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    debug_str &lt;&lt; <span class="stringliteral">&quot;y: yes, &quot;</span> &lt;&lt; string(nz ? <span class="stringliteral">&quot;nonzero. &quot;</span> : <span class="stringliteral">&quot;zero. &quot;</span>);</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  }</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a27764df0bf839b15b82ed59752923b4a">a_</a>.size() == 0) {</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    debug_str &lt;&lt; <span class="stringliteral">&quot;a: no.  &quot;</span>;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    debug_str &lt;&lt; <span class="stringliteral">&quot;a: yes.  &quot;</span>;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keywordtype">bool</span> nz = <span class="keyword">false</span>;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a27764df0bf839b15b82ed59752923b4a">a_</a>.size() == <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a499c25e27ab7e173a47a0deedee71208">num_groups_</a>));</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keywordflow">for</span> (int32 j1 = 0; j1 &lt; <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a499c25e27ab7e173a47a0deedee71208">num_groups_</a>; j1++) {</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;      <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a27764df0bf839b15b82ed59752923b4a">a_</a>[j1].NumRows() == model.NumSubstatesForGroup(j1) &amp;&amp;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                   <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a27764df0bf839b15b82ed59752923b4a">a_</a>[j1].NumCols() == <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a17aa48bffd901faf3238e31cb141e18a">num_gaussians_</a>);</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;      <span class="keywordflow">if</span> (!nz &amp;&amp; <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a27764df0bf839b15b82ed59752923b4a">a_</a>[j1].Sum() != 0) nz = <span class="keyword">true</span>;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    }</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    debug_str &lt;&lt; <span class="stringliteral">&quot;a: yes, &quot;</span> &lt;&lt; string(nz ? <span class="stringliteral">&quot;nonzero. &quot;</span> : <span class="stringliteral">&quot;zero. &quot;</span>); <span class="comment">// TODO: take out &quot;string&quot;</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  }</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <span class="keywordtype">double</span> tot_gamma = 0.0;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#ab335142c25f5e0e725228652cccc13d0">gamma_</a>.size() == 0) {</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    debug_str &lt;&lt; <span class="stringliteral">&quot;gamma: no.  &quot;</span>;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    debug_str &lt;&lt; <span class="stringliteral">&quot;gamma: yes.  &quot;</span>;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#ab335142c25f5e0e725228652cccc13d0">gamma_</a>.size() == <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a499c25e27ab7e173a47a0deedee71208">num_groups_</a>));</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keywordflow">for</span> (int32 j1 = 0; j1 &lt; <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a499c25e27ab7e173a47a0deedee71208">num_groups_</a>; j1++) {</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;      <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#ab335142c25f5e0e725228652cccc13d0">gamma_</a>[j1].NumRows() == model.NumSubstatesForGroup(j1) &amp;&amp;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                   <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#ab335142c25f5e0e725228652cccc13d0">gamma_</a>[j1].NumCols() == <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a17aa48bffd901faf3238e31cb141e18a">num_gaussians_</a>);</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      tot_gamma += <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#ab335142c25f5e0e725228652cccc13d0">gamma_</a>[j1].Sum();</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    }</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keywordtype">bool</span> nz = (tot_gamma != 0.0);</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a97ec4c75220111b6775f9e27fca2c117">gamma_c_</a>.size() == <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#acdf59753b6f2b237f080a13a5c643516">num_pdfs_</a> &amp;&amp; <span class="stringliteral">&quot;gamma_ set up but not gamma_c_.&quot;</span>);</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    debug_str &lt;&lt; <span class="stringliteral">&quot;gamma: yes, &quot;</span> &lt;&lt; string(nz ? <span class="stringliteral">&quot;nonzero. &quot;</span> : <span class="stringliteral">&quot;zero. &quot;</span>);</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  }</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a97ec4c75220111b6775f9e27fca2c117">gamma_c_</a>.size() == 0) {</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <a class="code" href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a> &lt;&lt; <span class="stringliteral">&quot;gamma_c_ not set up.&quot;</span>; <span class="comment">// required for all accs.</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a97ec4c75220111b6775f9e27fca2c117">gamma_c_</a>.size() == <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#acdf59753b6f2b237f080a13a5c643516">num_pdfs_</a>);</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="keywordtype">double</span> tot_gamma_c = 0.0;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="keywordflow">for</span> (int32 j2 = 0; j2 &lt; <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#acdf59753b6f2b237f080a13a5c643516">num_pdfs_</a>; j2++) {</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;      <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a97ec4c75220111b6775f9e27fca2c117">gamma_c_</a>[j2].Dim() == model.NumSubstatesForPdf(j2));</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;      tot_gamma_c += <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a97ec4c75220111b6775f9e27fca2c117">gamma_c_</a>[j2].Sum();</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    }</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="keywordtype">bool</span> nz = (tot_gamma_c != 0.0);</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    debug_str &lt;&lt; <span class="stringliteral">&quot;gamma_c: yes, &quot;</span> &lt;&lt; string(nz ? <span class="stringliteral">&quot;nonzero. &quot;</span> : <span class="stringliteral">&quot;zero. &quot;</span>);</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#ab335142c25f5e0e725228652cccc13d0">gamma_</a>.empty() &amp;&amp; !<a class="code" href="namespacekaldi.html#a99dcbb9fdaa6c980ba67941d45adf017">ApproxEqual</a>(tot_gamma_c, tot_gamma))</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      <a class="code" href="group__error__group.html#ga994be213ddf127b5d6f20a43a02b513a">KALDI_WARN</a> &lt;&lt; <span class="stringliteral">&quot;Counts from gamma and gamma_c differ &quot;</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                 &lt;&lt; tot_gamma &lt;&lt; <span class="stringliteral">&quot; vs. &quot;</span> &lt;&lt; tot_gamma_c;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  }</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a09481f5d4524b97d7bcb77148ffd1d23">t_</a>.<a class="code" href="classkaldi_1_1MatrixBase.html#a01cf7fccddf8deddc75b34408144ded1">NumRows</a>() == 0) {</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    debug_str &lt;&lt; <span class="stringliteral">&quot;t: no.  &quot;</span>;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a09481f5d4524b97d7bcb77148ffd1d23">t_</a>.<a class="code" href="classkaldi_1_1MatrixBase.html#a01cf7fccddf8deddc75b34408144ded1">NumRows</a>() == num_gaussians_ &amp;&amp;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                 <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a09481f5d4524b97d7bcb77148ffd1d23">t_</a>.<a class="code" href="classkaldi_1_1MatrixBase.html#acd4c9f53536602585f5aff9e8005299a">NumCols</a>() == <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a4ceee077c0ba5d4d5aa0336619bb73c2">spk_space_dim_</a>);</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(!<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a0a2c03a7a784c564939cee6cf0ce1503">U_</a>.empty()); <span class="comment">// t and U are used together.</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="keywordtype">bool</span> nz = (<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a09481f5d4524b97d7bcb77148ffd1d23">t_</a>.<a class="code" href="classkaldi_1_1MatrixBase.html#ac8bb668abdc6122cec89dc1f01f73554">FrobeniusNorm</a>() != 0);</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    debug_str &lt;&lt; <span class="stringliteral">&quot;t: yes, &quot;</span> &lt;&lt; string(nz ? <span class="stringliteral">&quot;nonzero. &quot;</span> : <span class="stringliteral">&quot;zero. &quot;</span>);</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  }</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a0a2c03a7a784c564939cee6cf0ce1503">U_</a>.size() == 0) {</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    debug_str &lt;&lt; <span class="stringliteral">&quot;U: no.  &quot;</span>;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="keywordtype">bool</span> nz = <span class="keyword">false</span>;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a0a2c03a7a784c564939cee6cf0ce1503">U_</a>.size() == <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a17aa48bffd901faf3238e31cb141e18a">num_gaussians_</a>);</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="keywordflow">for</span> (int32 <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a17aa48bffd901faf3238e31cb141e18a">num_gaussians_</a>; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      <span class="keywordflow">if</span> (!nz &amp;&amp; <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a0a2c03a7a784c564939cee6cf0ce1503">U_</a>[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>].FrobeniusNorm() != 0) nz = <span class="keyword">true</span>;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;      <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a0a2c03a7a784c564939cee6cf0ce1503">U_</a>[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>].NumRows() == <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a4ceee077c0ba5d4d5aa0336619bb73c2">spk_space_dim_</a>);</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    }</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a09481f5d4524b97d7bcb77148ffd1d23">t_</a>.<a class="code" href="classkaldi_1_1MatrixBase.html#a01cf7fccddf8deddc75b34408144ded1">NumRows</a>() != 0); <span class="comment">// t and U are used together.</span></div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    debug_str &lt;&lt; <span class="stringliteral">&quot;t: yes, &quot;</span> &lt;&lt; string(nz ? <span class="stringliteral">&quot;nonzero. &quot;</span> : <span class="stringliteral">&quot;zero. &quot;</span>);</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  }</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  <span class="keywordflow">if</span> (show_properties)</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <a class="code" href="group__error__group.html#gaf8fb55454306b60c9c1e07a6ef9d341a">KALDI_LOG</a> &lt;&lt; <span class="stringliteral">&quot;Subspace GMM model properties: &quot;</span> &lt;&lt; debug_str.str();</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;}</div><div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a09481f5d4524b97d7bcb77148ffd1d23"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a09481f5d4524b97d7bcb77148ffd1d23">kaldi::MleAmSgmm2Accs::t_</a></div><div class="ttdeci">Matrix&lt; double &gt; t_</div><div class="ttdoc">[SSGMM] each row is one of the t_i quantities in the less-exact version of the SSGMM update for the s...</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00205">estimate-am-sgmm2.h:205</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a97ec4c75220111b6775f9e27fca2c117"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a97ec4c75220111b6775f9e27fca2c117">kaldi::MleAmSgmm2Accs::gamma_c_</a></div><div class="ttdeci">std::vector&lt; Vector&lt; double &gt; &gt; gamma_c_</div><div class="ttdoc">Sub-state occupancies gamma_{jm}^{(c)} for each sub-state. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00223">estimate-am-sgmm2.h:223</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_acdf59753b6f2b237f080a13a5c643516"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#acdf59753b6f2b237f080a13a5c643516">kaldi::MleAmSgmm2Accs::num_pdfs_</a></div><div class="ttdeci">int32 num_pdfs_</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00234">estimate-am-sgmm2.h:234</a></div></div>
<div class="ttc" id="classkaldi_1_1VectorBase_html_a29a1d6908849598792905bfbf888b410"><div class="ttname"><a href="classkaldi_1_1VectorBase.html#a29a1d6908849598792905bfbf888b410">kaldi::VectorBase::IsZero</a></div><div class="ttdeci">bool IsZero(Real cutoff=1.0e-06) const</div><div class="ttdoc">Returns true if matrix is all zeros. </div><div class="ttdef"><b>Definition:</b> <a href="kaldi-vector_8cc_source.html#l00293">kaldi-vector.cc:293</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a4ceee077c0ba5d4d5aa0336619bb73c2"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a4ceee077c0ba5d4d5aa0336619bb73c2">kaldi::MleAmSgmm2Accs::spk_space_dim_</a></div><div class="ttdeci">int32 spk_space_dim_</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00233">estimate-am-sgmm2.h:233</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a17aa48bffd901faf3238e31cb141e18a"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a17aa48bffd901faf3238e31cb141e18a">kaldi::MleAmSgmm2Accs::num_gaussians_</a></div><div class="ttdeci">int32 num_gaussians_</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00234">estimate-am-sgmm2.h:234</a></div></div>
<div class="ttc" id="classkaldi_1_1MatrixBase_html_acd4c9f53536602585f5aff9e8005299a"><div class="ttname"><a href="classkaldi_1_1MatrixBase.html#acd4c9f53536602585f5aff9e8005299a">kaldi::MatrixBase::NumCols</a></div><div class="ttdeci">MatrixIndexT NumCols() const</div><div class="ttdoc">Returns number of columns (or zero for emtpy matrix). </div><div class="ttdef"><b>Definition:</b> <a href="kaldi-matrix_8h_source.html#l00064">kaldi-matrix.h:64</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a3e4cc17a0737faace498025a5afe4552"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a3e4cc17a0737faace498025a5afe4552">kaldi::MleAmSgmm2Accs::S_</a></div><div class="ttdeci">std::vector&lt; SpMatrix&lt; double &gt; &gt; S_</div><div class="ttdoc">S_{i}^{-}, scatter of adapted feature vectors x_{i}(t). Dim is [I][D][D]. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00188">estimate-am-sgmm2.h:188</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_ab335142c25f5e0e725228652cccc13d0"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#ab335142c25f5e0e725228652cccc13d0">kaldi::MleAmSgmm2Accs::gamma_</a></div><div class="ttdeci">std::vector&lt; Matrix&lt; double &gt; &gt; gamma_</div><div class="ttdoc">Gaussian occupancies gamma_{jmi} for each substate and Gaussian index, pooled over groups...</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00195">estimate-am-sgmm2.h:195</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a499c25e27ab7e173a47a0deedee71208"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a499c25e27ab7e173a47a0deedee71208">kaldi::MleAmSgmm2Accs::num_groups_</a></div><div class="ttdeci">int32 num_groups_</div><div class="ttdoc">Other model specifications. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00234">estimate-am-sgmm2.h:234</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a0a2c03a7a784c564939cee6cf0ce1503"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a0a2c03a7a784c564939cee6cf0ce1503">kaldi::MleAmSgmm2Accs::U_</a></div><div class="ttdeci">std::vector&lt; SpMatrix&lt; double &gt; &gt; U_</div><div class="ttdoc">the U_i quantities from the less-exact version of the SSGMM update for the speaker weight projections...</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00217">estimate-am-sgmm2.h:217</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a0a2e94703301da6f55bedf8183bcff39"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a0a2e94703301da6f55bedf8183bcff39">kaldi::MleAmSgmm2Accs::Y_</a></div><div class="ttdeci">std::vector&lt; Matrix&lt; double &gt; &gt; Y_</div><div class="ttdoc">The stats which are not tied to any state. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00182">estimate-am-sgmm2.h:182</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a1930fef1612d54bcfe0c522b6a64ee8a"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a1930fef1612d54bcfe0c522b6a64ee8a">kaldi::MleAmSgmm2Accs::y_</a></div><div class="ttdeci">std::vector&lt; Matrix&lt; double &gt; &gt; y_</div><div class="ttdoc">The SGMM state specific stats. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00192">estimate-am-sgmm2.h:192</a></div></div>
<div class="ttc" id="group__error__group_html_ga0251fa005e2fdb1dcc6e24f06afe3b1f"><div class="ttname"><a href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a></div><div class="ttdeci">#define KALDI_ERR</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00126">kaldi-error.h:126</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_aca127a1d0cd66fd41332c87a9b84d24d"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#aca127a1d0cd66fd41332c87a9b84d24d">kaldi::MleAmSgmm2Accs::phn_space_dim_</a></div><div class="ttdeci">int32 phn_space_dim_</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00233">estimate-am-sgmm2.h:233</a></div></div>
<div class="ttc" id="group__error__group_html_ga994be213ddf127b5d6f20a43a02b513a"><div class="ttname"><a href="group__error__group.html#ga994be213ddf127b5d6f20a43a02b513a">KALDI_WARN</a></div><div class="ttdeci">#define KALDI_WARN</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00129">kaldi-error.h:129</a></div></div>
<div class="ttc" id="classkaldi_1_1VectorBase_html_af3d58f15749a15d89b0ec5819dd7b7f2"><div class="ttname"><a href="classkaldi_1_1VectorBase.html#af3d58f15749a15d89b0ec5819dd7b7f2">kaldi::VectorBase::Dim</a></div><div class="ttdeci">MatrixIndexT Dim() const</div><div class="ttdoc">Returns the dimension of the vector. </div><div class="ttdef"><b>Definition:</b> <a href="kaldi-vector_8h_source.html#l00063">kaldi-vector.h:63</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a27764df0bf839b15b82ed59752923b4a"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a27764df0bf839b15b82ed59752923b4a">kaldi::MleAmSgmm2Accs::a_</a></div><div class="ttdeci">std::vector&lt; Matrix&lt; double &gt; &gt; a_</div><div class="ttdoc">[SSGMM] These a_{jmi} quantities are dimensionally the same as the gamma quantities. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00200">estimate-am-sgmm2.h:200</a></div></div>
<div class="ttc" id="namespacernnlm_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">rnnlm::i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="mikolov-rnnlm-lib_8cc_source.html#l00066">mikolov-rnnlm-lib.cc:66</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a2545b9e5768cf47a08c648fda6b794d3"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a2545b9e5768cf47a08c648fda6b794d3">kaldi::MleAmSgmm2Accs::R_</a></div><div class="ttdeci">std::vector&lt; SpMatrix&lt; double &gt; &gt; R_</div><div class="ttdoc">R_{i}, quadratic term for speaker subspace estimation. Dim is [I][T][T]. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00186">estimate-am-sgmm2.h:186</a></div></div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00168">kaldi-error.h:168</a></div></div>
<div class="ttc" id="classkaldi_1_1MatrixBase_html_a01cf7fccddf8deddc75b34408144ded1"><div class="ttname"><a href="classkaldi_1_1MatrixBase.html#a01cf7fccddf8deddc75b34408144ded1">kaldi::MatrixBase::NumRows</a></div><div class="ttdeci">MatrixIndexT NumRows() const</div><div class="ttdoc">Returns number of rows (or zero for emtpy matrix). </div><div class="ttdef"><b>Definition:</b> <a href="kaldi-matrix_8h_source.html#l00061">kaldi-matrix.h:61</a></div></div>
<div class="ttc" id="classkaldi_1_1MatrixBase_html_ac8bb668abdc6122cec89dc1f01f73554"><div class="ttname"><a href="classkaldi_1_1MatrixBase.html#ac8bb668abdc6122cec89dc1f01f73554">kaldi::MatrixBase::FrobeniusNorm</a></div><div class="ttdeci">Real FrobeniusNorm() const</div><div class="ttdoc">Frobenius norm, which is the sqrt of sum of square elements. </div><div class="ttdef"><b>Definition:</b> <a href="kaldi-matrix_8cc_source.html#l01909">kaldi-matrix.cc:1909</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a6bff4c5c88bf8eeae5c9fc04a7f1ecf1"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a6bff4c5c88bf8eeae5c9fc04a7f1ecf1">kaldi::MleAmSgmm2Accs::feature_dim_</a></div><div class="ttdeci">int32 feature_dim_</div><div class="ttdoc">Dimensionality of various subspaces. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00233">estimate-am-sgmm2.h:233</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a89ac772ad34d9a54a888878fe747525b"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a89ac772ad34d9a54a888878fe747525b">kaldi::MleAmSgmm2Accs::Z_</a></div><div class="ttdeci">std::vector&lt; Matrix&lt; double &gt; &gt; Z_</div><div class="ttdoc">Stats Z_{i} for speaker-subspace projections N. Dim is [I][D][T]. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00184">estimate-am-sgmm2.h:184</a></div></div>
<div class="ttc" id="group__error__group_html_gaf8fb55454306b60c9c1e07a6ef9d341a"><div class="ttname"><a href="group__error__group.html#gaf8fb55454306b60c9c1e07a6ef9d341a">KALDI_LOG</a></div><div class="ttdeci">#define KALDI_LOG</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00132">kaldi-error.h:132</a></div></div>
<div class="ttc" id="namespacekaldi_html_a99dcbb9fdaa6c980ba67941d45adf017"><div class="ttname"><a href="namespacekaldi.html#a99dcbb9fdaa6c980ba67941d45adf017">kaldi::ApproxEqual</a></div><div class="ttdeci">static bool ApproxEqual(float a, float b, float relative_tolerance=0.001)</div><div class="ttdoc">return abs(a - b) &lt;= relative_tolerance * (abs(a)+abs(b)). </div><div class="ttdef"><b>Definition:</b> <a href="kaldi-math_8h_source.html#l00264">kaldi-math.h:264</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a5a8bf205f234b2c4d1fb3b78d66da7f8"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a5a8bf205f234b2c4d1fb3b78d66da7f8">kaldi::MleAmSgmm2Accs::gamma_s_</a></div><div class="ttdeci">Vector&lt; double &gt; gamma_s_</div><div class="ttdoc">gamma_{i}^{(s)}. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00228">estimate-am-sgmm2.h:228</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a95435702b1c322c118fdcea58ed7d612"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95435702b1c322c118fdcea58ed7d612">&#9670;&nbsp;</a></span>CommitStatsForSpk()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CommitStatsForSpk </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1AmSgmm2.html">AmSgmm2</a> &amp;&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1Sgmm2PerSpkDerivedVars.html">Sgmm2PerSpkDerivedVars</a> &amp;&#160;</td>
          <td class="paramname"><em>spk_vars</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Accumulates global stats for the current speaker (if applicable). </p>
<p>If flags contains kSgmmSpeakerProjections (N), or kSgmmSpeakerWeightProjections (u), must call this after finishing the speaker's data. </p>

<p class="definition">Definition at line <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00580">580</a> of file <a class="el" href="estimate-am-sgmm2_8cc_source.html">estimate-am-sgmm2.cc</a>.</p>

<p class="reference">References <a class="el" href="estimate-am-sgmm2_8h_source.html#l00213">MleAmSgmm2Accs::a_s_</a>, <a class="el" href="kaldi-vector_8cc_source.html#l00999">VectorBase&lt; Real &gt;::AddVecVec()</a>, <a class="el" href="kaldi-matrix_8cc_source.html#l00128">MatrixBase&lt; Real &gt;::AddVecVec()</a>, <a class="el" href="am-sgmm2_8h_source.html#l00189">Sgmm2PerSpkDerivedVars::b_is</a>, <a class="el" href="kaldi-vector_8h_source.html#l00063">VectorBase&lt; Real &gt;::Dim()</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00228">MleAmSgmm2Accs::gamma_s_</a>, <a class="el" href="mikolov-rnnlm-lib_8cc_source.html#l00066">rnnlm::i</a>, <a class="el" href="kaldi-vector_8cc_source.html#l00293">VectorBase&lt; Real &gt;::IsZero()</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00234">MleAmSgmm2Accs::num_gaussians_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00186">MleAmSgmm2Accs::R_</a>, <a class="el" href="kaldi-vector_8cc_source.html#l00288">VectorBase&lt; Real &gt;::SetZero()</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00205">MleAmSgmm2Accs::t_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00217">MleAmSgmm2Accs::U_</a>, and <a class="el" href="am-sgmm2_8h_source.html#l00187">Sgmm2PerSpkDerivedVars::v_s</a>.</p>

<p class="reference">Referenced by <a class="el" href="sgmm2-acc-stats-gpost_8cc_source.html#l00029">main()</a>.</p>
<div class="fragment"><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                                                                               {</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  <span class="keyword">const</span> VectorBase&lt;BaseFloat&gt; &amp;v_s = spk_vars.v_s;</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;  <span class="keywordflow">if</span> (v_s.Dim() != 0 &amp;&amp; !v_s.IsZero() &amp;&amp; !<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a2545b9e5768cf47a08c648fda6b794d3">R_</a>.empty()) {</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <span class="keywordflow">for</span> (int32 <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a17aa48bffd901faf3238e31cb141e18a">num_gaussians_</a>; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;      <span class="comment">// Accumulate Statistics R_{ki}</span></div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a5a8bf205f234b2c4d1fb3b78d66da7f8">gamma_s_</a>(<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>) != 0.0)</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;        <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a2545b9e5768cf47a08c648fda6b794d3">R_</a>[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>].AddVec2(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a5a8bf205f234b2c4d1fb3b78d66da7f8">gamma_s_</a>(<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>),</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                      Vector&lt;double&gt;(v_s));</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  }</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#ad2845d3d9bf38255cd9e6a247c13424b">a_s_</a>.<a class="code" href="classkaldi_1_1VectorBase.html#af3d58f15749a15d89b0ec5819dd7b7f2">Dim</a>() != 0) {</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    Vector&lt;BaseFloat&gt; tmp(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a5a8bf205f234b2c4d1fb3b78d66da7f8">gamma_s_</a>);</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <span class="comment">// tmp(i) = gamma_s^{(i)} - a_i^{(s)} b_i^{(s)}.</span></div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    tmp.AddVecVec(-1.0, Vector&lt;BaseFloat&gt;(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#ad2845d3d9bf38255cd9e6a247c13424b">a_s_</a>), spk_vars.b_is, 1.0);</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a09481f5d4524b97d7bcb77148ffd1d23">t_</a>.<a class="code" href="classkaldi_1_1MatrixBase.html#afa203346a8e27a11925c60d784f11acb">AddVecVec</a>(1.0, tmp, v_s); <span class="comment">// eq. 53 of techreport.</span></div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <span class="keywordflow">for</span> (int32 <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a17aa48bffd901faf3238e31cb141e18a">num_gaussians_</a>; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;      <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a0a2c03a7a784c564939cee6cf0ce1503">U_</a>[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>].AddVec2(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#ad2845d3d9bf38255cd9e6a247c13424b">a_s_</a>(<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>) * spk_vars.b_is(<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>),</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                    Vector&lt;double&gt;(v_s)); <span class="comment">// eq. 54 of techreport.</span></div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    }</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  }</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a5a8bf205f234b2c4d1fb3b78d66da7f8">gamma_s_</a>.<a class="code" href="classkaldi_1_1VectorBase.html#ae57e5aca5db002545e4b9335c8d9dbfa">SetZero</a>();</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;  <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#ad2845d3d9bf38255cd9e6a247c13424b">a_s_</a>.<a class="code" href="classkaldi_1_1VectorBase.html#ae57e5aca5db002545e4b9335c8d9dbfa">SetZero</a>();</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;}</div><div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a09481f5d4524b97d7bcb77148ffd1d23"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a09481f5d4524b97d7bcb77148ffd1d23">kaldi::MleAmSgmm2Accs::t_</a></div><div class="ttdeci">Matrix&lt; double &gt; t_</div><div class="ttdoc">[SSGMM] each row is one of the t_i quantities in the less-exact version of the SSGMM update for the s...</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00205">estimate-am-sgmm2.h:205</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a17aa48bffd901faf3238e31cb141e18a"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a17aa48bffd901faf3238e31cb141e18a">kaldi::MleAmSgmm2Accs::num_gaussians_</a></div><div class="ttdeci">int32 num_gaussians_</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00234">estimate-am-sgmm2.h:234</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a0a2c03a7a784c564939cee6cf0ce1503"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a0a2c03a7a784c564939cee6cf0ce1503">kaldi::MleAmSgmm2Accs::U_</a></div><div class="ttdeci">std::vector&lt; SpMatrix&lt; double &gt; &gt; U_</div><div class="ttdoc">the U_i quantities from the less-exact version of the SSGMM update for the speaker weight projections...</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00217">estimate-am-sgmm2.h:217</a></div></div>
<div class="ttc" id="classkaldi_1_1VectorBase_html_af3d58f15749a15d89b0ec5819dd7b7f2"><div class="ttname"><a href="classkaldi_1_1VectorBase.html#af3d58f15749a15d89b0ec5819dd7b7f2">kaldi::VectorBase::Dim</a></div><div class="ttdeci">MatrixIndexT Dim() const</div><div class="ttdoc">Returns the dimension of the vector. </div><div class="ttdef"><b>Definition:</b> <a href="kaldi-vector_8h_source.html#l00063">kaldi-vector.h:63</a></div></div>
<div class="ttc" id="namespacernnlm_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">rnnlm::i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="mikolov-rnnlm-lib_8cc_source.html#l00066">mikolov-rnnlm-lib.cc:66</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_ad2845d3d9bf38255cd9e6a247c13424b"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#ad2845d3d9bf38255cd9e6a247c13424b">kaldi::MleAmSgmm2Accs::a_s_</a></div><div class="ttdeci">Vector&lt; double &gt; a_s_</div><div class="ttdoc">[SSGMM], this is a per-speaker variable storing the a_i^{(s)} quantities that we will use in order to...</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00213">estimate-am-sgmm2.h:213</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a2545b9e5768cf47a08c648fda6b794d3"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a2545b9e5768cf47a08c648fda6b794d3">kaldi::MleAmSgmm2Accs::R_</a></div><div class="ttdeci">std::vector&lt; SpMatrix&lt; double &gt; &gt; R_</div><div class="ttdoc">R_{i}, quadratic term for speaker subspace estimation. Dim is [I][T][T]. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00186">estimate-am-sgmm2.h:186</a></div></div>
<div class="ttc" id="classkaldi_1_1MatrixBase_html_afa203346a8e27a11925c60d784f11acb"><div class="ttname"><a href="classkaldi_1_1MatrixBase.html#afa203346a8e27a11925c60d784f11acb">kaldi::MatrixBase::AddVecVec</a></div><div class="ttdeci">void AddVecVec(const Real alpha, const VectorBase&lt; OtherReal &gt; &amp;a, const VectorBase&lt; OtherReal &gt; &amp;b)</div><div class="ttdoc">*this += alpha * a * b^T </div><div class="ttdef"><b>Definition:</b> <a href="kaldi-matrix_8cc_source.html#l00128">kaldi-matrix.cc:128</a></div></div>
<div class="ttc" id="classkaldi_1_1VectorBase_html_ae57e5aca5db002545e4b9335c8d9dbfa"><div class="ttname"><a href="classkaldi_1_1VectorBase.html#ae57e5aca5db002545e4b9335c8d9dbfa">kaldi::VectorBase::SetZero</a></div><div class="ttdeci">void SetZero()</div><div class="ttdoc">Set vector to all zeros. </div><div class="ttdef"><b>Definition:</b> <a href="kaldi-vector_8cc_source.html#l00288">kaldi-vector.cc:288</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a5a8bf205f234b2c4d1fb3b78d66da7f8"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a5a8bf205f234b2c4d1fb3b78d66da7f8">kaldi::MleAmSgmm2Accs::gamma_s_</a></div><div class="ttdeci">Vector&lt; double &gt; gamma_s_</div><div class="ttdoc">gamma_{i}^{(s)}. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00228">estimate-am-sgmm2.h:228</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa710bc48bb155b286e3aa253546ea7b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa710bc48bb155b286e3aa253546ea7b9">&#9670;&nbsp;</a></span>FeatureDim()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32 FeatureDim </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="estimate-am-sgmm2_8h_source.html#l00173">173</a> of file <a class="el" href="estimate-am-sgmm2_8h_source.html">estimate-am-sgmm2.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a6bff4c5c88bf8eeae5c9fc04a7f1ecf1">feature_dim_</a>; }</div><div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a6bff4c5c88bf8eeae5c9fc04a7f1ecf1"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a6bff4c5c88bf8eeae5c9fc04a7f1ecf1">kaldi::MleAmSgmm2Accs::feature_dim_</a></div><div class="ttdeci">int32 feature_dim_</div><div class="ttdoc">Dimensionality of various subspaces. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00233">estimate-am-sgmm2.h:233</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a047f91e2923271a2d890107a52ee3300"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a047f91e2923271a2d890107a52ee3300">&#9670;&nbsp;</a></span>GetStateOccupancies()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GetStateOccupancies </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1Vector.html">Vector</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *&#160;</td>
          <td class="paramname"><em>occs</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Accessors. </p>

<p class="definition">Definition at line <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00604">604</a> of file <a class="el" href="estimate-am-sgmm2_8cc_source.html">estimate-am-sgmm2.cc</a>.</p>

<p class="reference">References <a class="el" href="estimate-am-sgmm2_8h_source.html#l00223">MleAmSgmm2Accs::gamma_c_</a>, and <a class="el" href="kaldi-vector_8cc_source.html#l00190">Vector&lt; Real &gt;::Resize()</a>.</p>

<p class="reference">Referenced by <a class="el" href="sgmm2-est_8cc_source.html#l00030">main()</a>.</p>
<div class="fragment"><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                                                                      {</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;  int32 J2 = <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a97ec4c75220111b6775f9e27fca2c117">gamma_c_</a>.size();</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;  occs-&gt;Resize(J2);</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  <span class="keywordflow">for</span> (int32 j2 = 0; j2 &lt; J2; j2++) {</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    (*occs)(j2) = <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a97ec4c75220111b6775f9e27fca2c117">gamma_c_</a>[j2].Sum();</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  }</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;}</div><div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a97ec4c75220111b6775f9e27fca2c117"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a97ec4c75220111b6775f9e27fca2c117">kaldi::MleAmSgmm2Accs::gamma_c_</a></div><div class="ttdeci">std::vector&lt; Vector&lt; double &gt; &gt; gamma_c_</div><div class="ttdoc">Sub-state occupancies gamma_{jm}^{(c)} for each sub-state. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00223">estimate-am-sgmm2.h:223</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3d41330b8e2f3c3c47d2fa660820b518"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d41330b8e2f3c3c47d2fa660820b518">&#9670;&nbsp;</a></span>KALDI_DISALLOW_COPY_AND_ASSIGN()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">KALDI_DISALLOW_COPY_AND_ASSIGN </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1MleAmSgmm2Accs.html">MleAmSgmm2Accs</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aa3b124f78014405a43c4b799a96bed97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3b124f78014405a43c4b799a96bed97">&#9670;&nbsp;</a></span>NumGauss()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32 NumGauss </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="estimate-am-sgmm2_8h_source.html#l00177">177</a> of file <a class="el" href="estimate-am-sgmm2_8h_source.html">estimate-am-sgmm2.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a17aa48bffd901faf3238e31cb141e18a">num_gaussians_</a>; }</div><div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a17aa48bffd901faf3238e31cb141e18a"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a17aa48bffd901faf3238e31cb141e18a">kaldi::MleAmSgmm2Accs::num_gaussians_</a></div><div class="ttdeci">int32 num_gaussians_</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00234">estimate-am-sgmm2.h:234</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a71de1fc5c6eaab6e6b9158822de552c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71de1fc5c6eaab6e6b9158822de552c8">&#9670;&nbsp;</a></span>NumGroups()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32 NumGroups </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="estimate-am-sgmm2_8h_source.html#l00176">176</a> of file <a class="el" href="estimate-am-sgmm2_8h_source.html">estimate-am-sgmm2.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a499c25e27ab7e173a47a0deedee71208">num_groups_</a>; } <span class="comment">// returns J1</span></div><div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a499c25e27ab7e173a47a0deedee71208"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a499c25e27ab7e173a47a0deedee71208">kaldi::MleAmSgmm2Accs::num_groups_</a></div><div class="ttdeci">int32 num_groups_</div><div class="ttdoc">Other model specifications. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00234">estimate-am-sgmm2.h:234</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae13f7c74eb93b128c78b90e2131a8e70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae13f7c74eb93b128c78b90e2131a8e70">&#9670;&nbsp;</a></span>NumPdfs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32 NumPdfs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="estimate-am-sgmm2_8h_source.html#l00175">175</a> of file <a class="el" href="estimate-am-sgmm2_8h_source.html">estimate-am-sgmm2.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#acdf59753b6f2b237f080a13a5c643516">num_pdfs_</a>; } <span class="comment">// returns J2</span></div><div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_acdf59753b6f2b237f080a13a5c643516"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#acdf59753b6f2b237f080a13a5c643516">kaldi::MleAmSgmm2Accs::num_pdfs_</a></div><div class="ttdeci">int32 num_pdfs_</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00234">estimate-am-sgmm2.h:234</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af35dab2db5171884052c2d9b57c28afc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af35dab2db5171884052c2d9b57c28afc">&#9670;&nbsp;</a></span>PhoneSpaceDim()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32 PhoneSpaceDim </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="estimate-am-sgmm2_8h_source.html#l00174">174</a> of file <a class="el" href="estimate-am-sgmm2_8h_source.html">estimate-am-sgmm2.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#aca127a1d0cd66fd41332c87a9b84d24d">phn_space_dim_</a>; }</div><div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_aca127a1d0cd66fd41332c87a9b84d24d"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#aca127a1d0cd66fd41332c87a9b84d24d">kaldi::MleAmSgmm2Accs::phn_space_dim_</a></div><div class="ttdeci">int32 phn_space_dim_</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00233">estimate-am-sgmm2.h:233</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a766484031c247f04d917764ac543541e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a766484031c247f04d917764ac543541e">&#9670;&nbsp;</a></span>Read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Read </td>
          <td>(</td>
          <td class="paramtype">std::istream &amp;&#160;</td>
          <td class="paramname"><em>in_stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>binary</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>add</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00122">122</a> of file <a class="el" href="estimate-am-sgmm2_8cc_source.html">estimate-am-sgmm2.cc</a>.</p>

<p class="reference">References <a class="el" href="estimate-am-sgmm2_8h_source.html#l00200">MleAmSgmm2Accs::a_</a>, <a class="el" href="kaldi-vector_8h_source.html#l00063">VectorBase&lt; Real &gt;::Dim()</a>, <a class="el" href="io-funcs_8cc_source.html#l00194">kaldi::ExpectToken()</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00233">MleAmSgmm2Accs::feature_dim_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00195">MleAmSgmm2Accs::gamma_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00223">MleAmSgmm2Accs::gamma_c_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00228">MleAmSgmm2Accs::gamma_s_</a>, <a class="el" href="mikolov-rnnlm-lib_8cc_source.html#l00066">rnnlm::i</a>, <a class="el" href="kaldi-error_8h_source.html#l00126">KALDI_ERR</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00234">MleAmSgmm2Accs::num_gaussians_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00234">MleAmSgmm2Accs::num_groups_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00234">MleAmSgmm2Accs::num_pdfs_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00233">MleAmSgmm2Accs::phn_space_dim_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00186">MleAmSgmm2Accs::R_</a>, <a class="el" href="kaldi-matrix_8cc_source.html#l01449">Matrix&lt; Real &gt;::Read()</a>, <a class="el" href="io-funcs-inl_8h_source.html#l00055">kaldi::ReadBasicType()</a>, <a class="el" href="io-funcs_8cc_source.html#l00154">kaldi::ReadToken()</a>, <a class="el" href="kaldi-vector_8cc_source.html#l00190">Vector&lt; Real &gt;::Resize()</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00188">MleAmSgmm2Accs::S_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00233">MleAmSgmm2Accs::spk_space_dim_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00205">MleAmSgmm2Accs::t_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00230">MleAmSgmm2Accs::total_frames_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00230">MleAmSgmm2Accs::total_like_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00217">MleAmSgmm2Accs::U_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00182">MleAmSgmm2Accs::Y_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00192">MleAmSgmm2Accs::y_</a>, and <a class="el" href="estimate-am-sgmm2_8h_source.html#l00184">MleAmSgmm2Accs::Z_</a>.</p>

<p class="reference">Referenced by <a class="el" href="sgmm2-est-ebw_8cc_source.html#l00028">main()</a>, and <a class="el" href="estimate-am-sgmm2-test_8cc_source.html#l00038">TestSgmm2AccsIO()</a>.</p>
<div class="fragment"><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                                   {</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga4c7a80f758e878578e78b667f62463a5">ExpectToken</a>(in_stream, binary, <span class="stringliteral">&quot;&lt;SGMMACCS&gt;&quot;</span>);</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga4c7a80f758e878578e78b667f62463a5">ExpectToken</a>(in_stream, binary, <span class="stringliteral">&quot;&lt;NUMPDFS&gt;&quot;</span>);</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga1bd1af0ef712b76f2332febcec8d095a">ReadBasicType</a>(in_stream, binary, &amp;<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#acdf59753b6f2b237f080a13a5c643516">num_pdfs_</a>);</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga4c7a80f758e878578e78b667f62463a5">ExpectToken</a>(in_stream, binary, <span class="stringliteral">&quot;&lt;NUMGROUPS&gt;&quot;</span>);</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga1bd1af0ef712b76f2332febcec8d095a">ReadBasicType</a>(in_stream, binary, &amp;<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a499c25e27ab7e173a47a0deedee71208">num_groups_</a>);</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga4c7a80f758e878578e78b667f62463a5">ExpectToken</a>(in_stream, binary, <span class="stringliteral">&quot;&lt;NUMGaussians&gt;&quot;</span>);</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga1bd1af0ef712b76f2332febcec8d095a">ReadBasicType</a>(in_stream, binary, &amp;<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a17aa48bffd901faf3238e31cb141e18a">num_gaussians_</a>);</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga4c7a80f758e878578e78b667f62463a5">ExpectToken</a>(in_stream, binary, <span class="stringliteral">&quot;&lt;FEATUREDIM&gt;&quot;</span>);</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga1bd1af0ef712b76f2332febcec8d095a">ReadBasicType</a>(in_stream, binary, &amp;<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a6bff4c5c88bf8eeae5c9fc04a7f1ecf1">feature_dim_</a>);</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga4c7a80f758e878578e78b667f62463a5">ExpectToken</a>(in_stream, binary, <span class="stringliteral">&quot;&lt;PHONESPACEDIM&gt;&quot;</span>);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga1bd1af0ef712b76f2332febcec8d095a">ReadBasicType</a>(in_stream, binary, &amp;<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#aca127a1d0cd66fd41332c87a9b84d24d">phn_space_dim_</a>);</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga4c7a80f758e878578e78b667f62463a5">ExpectToken</a>(in_stream, binary, <span class="stringliteral">&quot;&lt;SPKSPACEDIM&gt;&quot;</span>);</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga1bd1af0ef712b76f2332febcec8d095a">ReadBasicType</a>(in_stream, binary, &amp;<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a4ceee077c0ba5d4d5aa0336619bb73c2">spk_space_dim_</a>);</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="keywordtype">string</span> token;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <a class="code" href="group__io__funcs__basic.html#gacbf9367cd910befefa0bc98055979bea">ReadToken</a>(in_stream, binary, &amp;token);</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <span class="keywordflow">while</span> (token != <span class="stringliteral">&quot;&lt;/SGMMACCS&gt;&quot;</span>) {</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="keywordflow">if</span> (token == <span class="stringliteral">&quot;&lt;Y&gt;&quot;</span>) {</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;      <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a0a2e94703301da6f55bedf8183bcff39">Y_</a>.resize(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a17aa48bffd901faf3238e31cb141e18a">num_gaussians_</a>);</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a0a2e94703301da6f55bedf8183bcff39">Y_</a>.size(); <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a0a2e94703301da6f55bedf8183bcff39">Y_</a>[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>].Read(in_stream, binary, add);</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;      }</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (token == <span class="stringliteral">&quot;&lt;Z&gt;&quot;</span>) {</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;      <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a89ac772ad34d9a54a888878fe747525b">Z_</a>.resize(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a17aa48bffd901faf3238e31cb141e18a">num_gaussians_</a>);</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a89ac772ad34d9a54a888878fe747525b">Z_</a>.size(); <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a89ac772ad34d9a54a888878fe747525b">Z_</a>[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>].Read(in_stream, binary, add);</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      }</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (token == <span class="stringliteral">&quot;&lt;R&gt;&quot;</span>) {</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a2545b9e5768cf47a08c648fda6b794d3">R_</a>.resize(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a17aa48bffd901faf3238e31cb141e18a">num_gaussians_</a>);</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a5a8bf205f234b2c4d1fb3b78d66da7f8">gamma_s_</a>.<a class="code" href="classkaldi_1_1VectorBase.html#af3d58f15749a15d89b0ec5819dd7b7f2">Dim</a>() == 0) <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a5a8bf205f234b2c4d1fb3b78d66da7f8">gamma_s_</a>.<a class="code" href="classkaldi_1_1Vector.html#ae98e624cca1982e866ff195131ed4427">Resize</a>(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a17aa48bffd901faf3238e31cb141e18a">num_gaussians_</a>);</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a2545b9e5768cf47a08c648fda6b794d3">R_</a>.size(); <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a2545b9e5768cf47a08c648fda6b794d3">R_</a>[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>].Read(in_stream, binary, add);</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      }</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (token == <span class="stringliteral">&quot;&lt;S&gt;&quot;</span>) {</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;      <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a3e4cc17a0737faace498025a5afe4552">S_</a>.resize(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a17aa48bffd901faf3238e31cb141e18a">num_gaussians_</a>);</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a3e4cc17a0737faace498025a5afe4552">S_</a>.size(); <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a3e4cc17a0737faace498025a5afe4552">S_</a>[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>].Read(in_stream, binary, add);</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      }</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (token == <span class="stringliteral">&quot;&lt;y&gt;&quot;</span>) {</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;      <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a1930fef1612d54bcfe0c522b6a64ee8a">y_</a>.resize(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a499c25e27ab7e173a47a0deedee71208">num_groups_</a>);</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;      <span class="keywordflow">for</span> (int32 j1 = 0; j1 &lt; <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a499c25e27ab7e173a47a0deedee71208">num_groups_</a>; j1++) {</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a1930fef1612d54bcfe0c522b6a64ee8a">y_</a>[j1].Read(in_stream, binary, add);</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;      }</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (token == <span class="stringliteral">&quot;&lt;gamma&gt;&quot;</span>) {</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;      <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#ab335142c25f5e0e725228652cccc13d0">gamma_</a>.resize(num_groups_);</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      <span class="keywordflow">for</span> (int32 j1 = 0; j1 &lt; <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a499c25e27ab7e173a47a0deedee71208">num_groups_</a>; j1++) {</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#ab335142c25f5e0e725228652cccc13d0">gamma_</a>[j1].Read(in_stream, binary, add);</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;      }</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      <span class="comment">// Don&#39;t read gamma_s, it&#39;s just a temporary variable and</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      <span class="comment">// not part of the permanent (non-speaker-specific) accs.</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (token == <span class="stringliteral">&quot;&lt;a&gt;&quot;</span>) {</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;      <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a27764df0bf839b15b82ed59752923b4a">a_</a>.resize(num_groups_);</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;      <span class="keywordflow">for</span> (int32 j1 = 0; j1 &lt; <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a499c25e27ab7e173a47a0deedee71208">num_groups_</a>; j1++) {</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a27764df0bf839b15b82ed59752923b4a">a_</a>[j1].Read(in_stream, binary, add);</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      }</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (token == <span class="stringliteral">&quot;&lt;gamma_c&gt;&quot;</span>) {</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;      <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a97ec4c75220111b6775f9e27fca2c117">gamma_c_</a>.resize(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#acdf59753b6f2b237f080a13a5c643516">num_pdfs_</a>);</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;      <span class="keywordflow">for</span> (int32 j2 = 0; j2 &lt; <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#acdf59753b6f2b237f080a13a5c643516">num_pdfs_</a>; j2++) {</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a97ec4c75220111b6775f9e27fca2c117">gamma_c_</a>[j2].Read(in_stream, binary, add);</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      }</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (token == <span class="stringliteral">&quot;&lt;t&gt;&quot;</span>) {</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;      <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a09481f5d4524b97d7bcb77148ffd1d23">t_</a>.<a class="code" href="classkaldi_1_1Matrix.html#aee763dab434f2d24c20edf16dada3abc">Read</a>(in_stream, binary, add);</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (token == <span class="stringliteral">&quot;&lt;U&gt;&quot;</span>) {</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;      <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a0a2c03a7a784c564939cee6cf0ce1503">U_</a>.resize(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a17aa48bffd901faf3238e31cb141e18a">num_gaussians_</a>);</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      <span class="keywordflow">for</span> (int32 <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a17aa48bffd901faf3238e31cb141e18a">num_gaussians_</a>; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a0a2c03a7a784c564939cee6cf0ce1503">U_</a>[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>].Read(in_stream, binary, add);</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      }</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (token == <span class="stringliteral">&quot;&lt;total_like&gt;&quot;</span>) {</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      <span class="keywordtype">double</span> total_like;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;      <a class="code" href="group__io__funcs__basic.html#ga1bd1af0ef712b76f2332febcec8d095a">ReadBasicType</a>(in_stream, binary, &amp;total_like);</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;      <span class="keywordflow">if</span> (add)</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a20c6a52171036e613e0f3d768e91b905">total_like_</a> += total_like;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a20c6a52171036e613e0f3d768e91b905">total_like_</a> = total_like;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (token == <span class="stringliteral">&quot;&lt;total_frames&gt;&quot;</span>) {</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;      <span class="keywordtype">double</span> total_frames;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;      <a class="code" href="group__io__funcs__basic.html#ga1bd1af0ef712b76f2332febcec8d095a">ReadBasicType</a>(in_stream, binary, &amp;total_frames);</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;      <span class="keywordflow">if</span> (add)</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#ae0e7c36868476594fbc8f83d4f04ab58">total_frames_</a> += total_frames;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#ae0e7c36868476594fbc8f83d4f04ab58">total_frames_</a> = total_frames;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;      <a class="code" href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a> &lt;&lt; <span class="stringliteral">&quot;Unexpected token &#39;&quot;</span> &lt;&lt; token &lt;&lt; <span class="stringliteral">&quot;&#39; in model file &quot;</span>;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    }</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <a class="code" href="group__io__funcs__basic.html#gacbf9367cd910befefa0bc98055979bea">ReadToken</a>(in_stream, binary, &amp;token);</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  }</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;}</div><div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a09481f5d4524b97d7bcb77148ffd1d23"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a09481f5d4524b97d7bcb77148ffd1d23">kaldi::MleAmSgmm2Accs::t_</a></div><div class="ttdeci">Matrix&lt; double &gt; t_</div><div class="ttdoc">[SSGMM] each row is one of the t_i quantities in the less-exact version of the SSGMM update for the s...</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00205">estimate-am-sgmm2.h:205</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a97ec4c75220111b6775f9e27fca2c117"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a97ec4c75220111b6775f9e27fca2c117">kaldi::MleAmSgmm2Accs::gamma_c_</a></div><div class="ttdeci">std::vector&lt; Vector&lt; double &gt; &gt; gamma_c_</div><div class="ttdoc">Sub-state occupancies gamma_{jm}^{(c)} for each sub-state. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00223">estimate-am-sgmm2.h:223</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_acdf59753b6f2b237f080a13a5c643516"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#acdf59753b6f2b237f080a13a5c643516">kaldi::MleAmSgmm2Accs::num_pdfs_</a></div><div class="ttdeci">int32 num_pdfs_</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00234">estimate-am-sgmm2.h:234</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a4ceee077c0ba5d4d5aa0336619bb73c2"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a4ceee077c0ba5d4d5aa0336619bb73c2">kaldi::MleAmSgmm2Accs::spk_space_dim_</a></div><div class="ttdeci">int32 spk_space_dim_</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00233">estimate-am-sgmm2.h:233</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a17aa48bffd901faf3238e31cb141e18a"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a17aa48bffd901faf3238e31cb141e18a">kaldi::MleAmSgmm2Accs::num_gaussians_</a></div><div class="ttdeci">int32 num_gaussians_</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00234">estimate-am-sgmm2.h:234</a></div></div>
<div class="ttc" id="group__io__funcs__basic_html_ga1bd1af0ef712b76f2332febcec8d095a"><div class="ttname"><a href="group__io__funcs__basic.html#ga1bd1af0ef712b76f2332febcec8d095a">kaldi::ReadBasicType</a></div><div class="ttdeci">void ReadBasicType(std::istream &amp;is, bool binary, T *t)</div><div class="ttdoc">ReadBasicType is the name of the read function for bool, integer types, and floating-point types...</div><div class="ttdef"><b>Definition:</b> <a href="io-funcs-inl_8h_source.html#l00055">io-funcs-inl.h:55</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a20c6a52171036e613e0f3d768e91b905"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a20c6a52171036e613e0f3d768e91b905">kaldi::MleAmSgmm2Accs::total_like_</a></div><div class="ttdeci">double total_like_</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00230">estimate-am-sgmm2.h:230</a></div></div>
<div class="ttc" id="group__io__funcs__basic_html_gacbf9367cd910befefa0bc98055979bea"><div class="ttname"><a href="group__io__funcs__basic.html#gacbf9367cd910befefa0bc98055979bea">kaldi::ReadToken</a></div><div class="ttdeci">void ReadToken(std::istream &amp;is, bool binary, std::string *str)</div><div class="ttdoc">ReadToken gets the next token and puts it in str (exception on failure). </div><div class="ttdef"><b>Definition:</b> <a href="io-funcs_8cc_source.html#l00154">io-funcs.cc:154</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a3e4cc17a0737faace498025a5afe4552"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a3e4cc17a0737faace498025a5afe4552">kaldi::MleAmSgmm2Accs::S_</a></div><div class="ttdeci">std::vector&lt; SpMatrix&lt; double &gt; &gt; S_</div><div class="ttdoc">S_{i}^{-}, scatter of adapted feature vectors x_{i}(t). Dim is [I][D][D]. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00188">estimate-am-sgmm2.h:188</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_ab335142c25f5e0e725228652cccc13d0"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#ab335142c25f5e0e725228652cccc13d0">kaldi::MleAmSgmm2Accs::gamma_</a></div><div class="ttdeci">std::vector&lt; Matrix&lt; double &gt; &gt; gamma_</div><div class="ttdoc">Gaussian occupancies gamma_{jmi} for each substate and Gaussian index, pooled over groups...</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00195">estimate-am-sgmm2.h:195</a></div></div>
<div class="ttc" id="classkaldi_1_1Vector_html_ae98e624cca1982e866ff195131ed4427"><div class="ttname"><a href="classkaldi_1_1Vector.html#ae98e624cca1982e866ff195131ed4427">kaldi::Vector::Resize</a></div><div class="ttdeci">void Resize(MatrixIndexT length, MatrixResizeType resize_type=kSetZero)</div><div class="ttdoc">Set vector to a specified size (can be zero). </div><div class="ttdef"><b>Definition:</b> <a href="kaldi-vector_8cc_source.html#l00190">kaldi-vector.cc:190</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a499c25e27ab7e173a47a0deedee71208"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a499c25e27ab7e173a47a0deedee71208">kaldi::MleAmSgmm2Accs::num_groups_</a></div><div class="ttdeci">int32 num_groups_</div><div class="ttdoc">Other model specifications. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00234">estimate-am-sgmm2.h:234</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a0a2c03a7a784c564939cee6cf0ce1503"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a0a2c03a7a784c564939cee6cf0ce1503">kaldi::MleAmSgmm2Accs::U_</a></div><div class="ttdeci">std::vector&lt; SpMatrix&lt; double &gt; &gt; U_</div><div class="ttdoc">the U_i quantities from the less-exact version of the SSGMM update for the speaker weight projections...</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00217">estimate-am-sgmm2.h:217</a></div></div>
<div class="ttc" id="classkaldi_1_1Matrix_html_aee763dab434f2d24c20edf16dada3abc"><div class="ttname"><a href="classkaldi_1_1Matrix.html#aee763dab434f2d24c20edf16dada3abc">kaldi::Matrix::Read</a></div><div class="ttdeci">void Read(std::istream &amp;in, bool binary, bool add=false)</div><div class="ttdoc">read from stream. </div><div class="ttdef"><b>Definition:</b> <a href="kaldi-matrix_8cc_source.html#l01449">kaldi-matrix.cc:1449</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a0a2e94703301da6f55bedf8183bcff39"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a0a2e94703301da6f55bedf8183bcff39">kaldi::MleAmSgmm2Accs::Y_</a></div><div class="ttdeci">std::vector&lt; Matrix&lt; double &gt; &gt; Y_</div><div class="ttdoc">The stats which are not tied to any state. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00182">estimate-am-sgmm2.h:182</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a1930fef1612d54bcfe0c522b6a64ee8a"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a1930fef1612d54bcfe0c522b6a64ee8a">kaldi::MleAmSgmm2Accs::y_</a></div><div class="ttdeci">std::vector&lt; Matrix&lt; double &gt; &gt; y_</div><div class="ttdoc">The SGMM state specific stats. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00192">estimate-am-sgmm2.h:192</a></div></div>
<div class="ttc" id="group__io__funcs__basic_html_ga4c7a80f758e878578e78b667f62463a5"><div class="ttname"><a href="group__io__funcs__basic.html#ga4c7a80f758e878578e78b667f62463a5">kaldi::ExpectToken</a></div><div class="ttdeci">void ExpectToken(std::istream &amp;is, bool binary, const char *token)</div><div class="ttdoc">ExpectToken tries to read in the given token, and throws an exception on failure. ...</div><div class="ttdef"><b>Definition:</b> <a href="io-funcs_8cc_source.html#l00194">io-funcs.cc:194</a></div></div>
<div class="ttc" id="group__error__group_html_ga0251fa005e2fdb1dcc6e24f06afe3b1f"><div class="ttname"><a href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a></div><div class="ttdeci">#define KALDI_ERR</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00126">kaldi-error.h:126</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_aca127a1d0cd66fd41332c87a9b84d24d"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#aca127a1d0cd66fd41332c87a9b84d24d">kaldi::MleAmSgmm2Accs::phn_space_dim_</a></div><div class="ttdeci">int32 phn_space_dim_</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00233">estimate-am-sgmm2.h:233</a></div></div>
<div class="ttc" id="classkaldi_1_1VectorBase_html_af3d58f15749a15d89b0ec5819dd7b7f2"><div class="ttname"><a href="classkaldi_1_1VectorBase.html#af3d58f15749a15d89b0ec5819dd7b7f2">kaldi::VectorBase::Dim</a></div><div class="ttdeci">MatrixIndexT Dim() const</div><div class="ttdoc">Returns the dimension of the vector. </div><div class="ttdef"><b>Definition:</b> <a href="kaldi-vector_8h_source.html#l00063">kaldi-vector.h:63</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a27764df0bf839b15b82ed59752923b4a"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a27764df0bf839b15b82ed59752923b4a">kaldi::MleAmSgmm2Accs::a_</a></div><div class="ttdeci">std::vector&lt; Matrix&lt; double &gt; &gt; a_</div><div class="ttdoc">[SSGMM] These a_{jmi} quantities are dimensionally the same as the gamma quantities. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00200">estimate-am-sgmm2.h:200</a></div></div>
<div class="ttc" id="namespacernnlm_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">rnnlm::i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="mikolov-rnnlm-lib_8cc_source.html#l00066">mikolov-rnnlm-lib.cc:66</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a2545b9e5768cf47a08c648fda6b794d3"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a2545b9e5768cf47a08c648fda6b794d3">kaldi::MleAmSgmm2Accs::R_</a></div><div class="ttdeci">std::vector&lt; SpMatrix&lt; double &gt; &gt; R_</div><div class="ttdoc">R_{i}, quadratic term for speaker subspace estimation. Dim is [I][T][T]. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00186">estimate-am-sgmm2.h:186</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a6bff4c5c88bf8eeae5c9fc04a7f1ecf1"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a6bff4c5c88bf8eeae5c9fc04a7f1ecf1">kaldi::MleAmSgmm2Accs::feature_dim_</a></div><div class="ttdeci">int32 feature_dim_</div><div class="ttdoc">Dimensionality of various subspaces. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00233">estimate-am-sgmm2.h:233</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a89ac772ad34d9a54a888878fe747525b"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a89ac772ad34d9a54a888878fe747525b">kaldi::MleAmSgmm2Accs::Z_</a></div><div class="ttdeci">std::vector&lt; Matrix&lt; double &gt; &gt; Z_</div><div class="ttdoc">Stats Z_{i} for speaker-subspace projections N. Dim is [I][D][T]. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00184">estimate-am-sgmm2.h:184</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_ae0e7c36868476594fbc8f83d4f04ab58"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#ae0e7c36868476594fbc8f83d4f04ab58">kaldi::MleAmSgmm2Accs::total_frames_</a></div><div class="ttdeci">double total_frames_</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00230">estimate-am-sgmm2.h:230</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a5a8bf205f234b2c4d1fb3b78d66da7f8"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a5a8bf205f234b2c4d1fb3b78d66da7f8">kaldi::MleAmSgmm2Accs::gamma_s_</a></div><div class="ttdeci">Vector&lt; double &gt; gamma_s_</div><div class="ttdoc">gamma_{i}^{(s)}. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00228">estimate-am-sgmm2.h:228</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a472e18624e02d091340fea51a3af3b02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a472e18624e02d091340fea51a3af3b02">&#9670;&nbsp;</a></span>ResizeAccumulators()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ResizeAccumulators </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1AmSgmm2.html">AmSgmm2</a> &amp;&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#a310aadae61c9f86834bef308e0f3081f">SgmmUpdateFlagsType</a>&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>have_spk_vecs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resizes the accumulators to the correct sizes given the model. </p>
<p>The flags argument controls which accumulators to resize. </p>

<p class="definition">Definition at line <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00365">365</a> of file <a class="el" href="estimate-am-sgmm2_8cc_source.html">estimate-am-sgmm2.cc</a>.</p>

<p class="reference">References <a class="el" href="estimate-am-sgmm2_8h_source.html#l00200">MleAmSgmm2Accs::a_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00213">MleAmSgmm2Accs::a_s_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00233">MleAmSgmm2Accs::feature_dim_</a>, <a class="el" href="am-sgmm2_8h_source.html#l00363">AmSgmm2::FeatureDim()</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00195">MleAmSgmm2Accs::gamma_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00223">MleAmSgmm2Accs::gamma_c_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00228">MleAmSgmm2Accs::gamma_s_</a>, <a class="el" href="am-sgmm2_8h_source.html#l00366">AmSgmm2::HasSpeakerDependentWeights()</a>, <a class="el" href="mikolov-rnnlm-lib_8cc_source.html#l00066">rnnlm::i</a>, <a class="el" href="kaldi-error_8h_source.html#l00168">KALDI_ASSERT</a>, <a class="el" href="kaldi-error_8h_source.html#l00126">KALDI_ERR</a>, <a class="el" href="model-common_8h_source.html#l00051">kaldi::kSgmmCovarianceMatrix</a>, <a class="el" href="model-common_8h_source.html#l00049">kaldi::kSgmmPhoneProjections</a>, <a class="el" href="model-common_8h_source.html#l00048">kaldi::kSgmmPhoneVectors</a>, <a class="el" href="model-common_8h_source.html#l00050">kaldi::kSgmmPhoneWeightProjections</a>, <a class="el" href="model-common_8h_source.html#l00053">kaldi::kSgmmSpeakerProjections</a>, <a class="el" href="model-common_8h_source.html#l00055">kaldi::kSgmmSpeakerWeightProjections</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00234">MleAmSgmm2Accs::num_gaussians_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00234">MleAmSgmm2Accs::num_groups_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00234">MleAmSgmm2Accs::num_pdfs_</a>, <a class="el" href="am-sgmm2_8h_source.html#l00360">AmSgmm2::NumGauss()</a>, <a class="el" href="am-sgmm2_8h_source.html#l00351">AmSgmm2::NumGroups()</a>, <a class="el" href="am-sgmm2_8h_source.html#l00350">AmSgmm2::NumPdfs()</a>, <a class="el" href="am-sgmm2_8h_source.html#l00357">AmSgmm2::NumSubstatesForGroup()</a>, <a class="el" href="am-sgmm2_8h_source.html#l00354">AmSgmm2::NumSubstatesForPdf()</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00233">MleAmSgmm2Accs::phn_space_dim_</a>, <a class="el" href="am-sgmm2_8h_source.html#l00361">AmSgmm2::PhoneSpaceDim()</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00186">MleAmSgmm2Accs::R_</a>, <a class="el" href="kaldi-vector_8cc_source.html#l00190">Vector&lt; Real &gt;::Resize()</a>, <a class="el" href="kaldi-matrix_8cc_source.html#l00818">Matrix&lt; Real &gt;::Resize()</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00188">MleAmSgmm2Accs::S_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00233">MleAmSgmm2Accs::spk_space_dim_</a>, <a class="el" href="am-sgmm2_8h_source.html#l00362">AmSgmm2::SpkSpaceDim()</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00205">MleAmSgmm2Accs::t_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00230">MleAmSgmm2Accs::total_frames_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00230">MleAmSgmm2Accs::total_like_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00217">MleAmSgmm2Accs::U_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00182">MleAmSgmm2Accs::Y_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00192">MleAmSgmm2Accs::y_</a>, and <a class="el" href="estimate-am-sgmm2_8h_source.html#l00184">MleAmSgmm2Accs::Z_</a>.</p>

<p class="reference">Referenced by <a class="el" href="sgmm2-acc-stats-gpost_8cc_source.html#l00029">main()</a>.</p>
<div class="fragment"><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                                                            {</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#acdf59753b6f2b237f080a13a5c643516">num_pdfs_</a> = model.NumPdfs();</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a499c25e27ab7e173a47a0deedee71208">num_groups_</a> = model.NumGroups();</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a17aa48bffd901faf3238e31cb141e18a">num_gaussians_</a> = model.NumGauss();</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a6bff4c5c88bf8eeae5c9fc04a7f1ecf1">feature_dim_</a> = model.FeatureDim();</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#aca127a1d0cd66fd41332c87a9b84d24d">phn_space_dim_</a> = model.PhoneSpaceDim();</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a4ceee077c0ba5d4d5aa0336619bb73c2">spk_space_dim_</a> = model.SpkSpaceDim();</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#ae0e7c36868476594fbc8f83d4f04ab58">total_frames_</a> = <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a20c6a52171036e613e0f3d768e91b905">total_like_</a> = 0;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  <span class="keywordflow">if</span> (flags &amp; (<a class="code" href="namespacekaldi.html#a02849595104a0e44ab32a6a3400ab049a0849d036b0cb3194c692e4245ba8daba">kSgmmPhoneProjections</a> | <a class="code" href="namespacekaldi.html#a02849595104a0e44ab32a6a3400ab049a2fa3029eeeb63b7626fe93333a0acd34">kSgmmCovarianceMatrix</a>)) {</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a0a2e94703301da6f55bedf8183bcff39">Y_</a>.resize(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a17aa48bffd901faf3238e31cb141e18a">num_gaussians_</a>);</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="keywordflow">for</span> (int32 <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a17aa48bffd901faf3238e31cb141e18a">num_gaussians_</a>; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;      <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a0a2e94703301da6f55bedf8183bcff39">Y_</a>[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>].Resize(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a6bff4c5c88bf8eeae5c9fc04a7f1ecf1">feature_dim_</a>, <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#aca127a1d0cd66fd41332c87a9b84d24d">phn_space_dim_</a>);</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    }</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a0a2e94703301da6f55bedf8183bcff39">Y_</a>.clear();</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  }</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  <span class="keywordflow">if</span> (flags &amp; (<a class="code" href="namespacekaldi.html#a02849595104a0e44ab32a6a3400ab049a02dda54b9e16aea5259d7107231db4a8">kSgmmSpeakerProjections</a> | <a class="code" href="namespacekaldi.html#a02849595104a0e44ab32a6a3400ab049a7ff24dc80abe63569446d4624e661ac0">kSgmmSpeakerWeightProjections</a>)) {</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a5a8bf205f234b2c4d1fb3b78d66da7f8">gamma_s_</a>.<a class="code" href="classkaldi_1_1Vector.html#ae98e624cca1982e866ff195131ed4427">Resize</a>(num_gaussians_);</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a5a8bf205f234b2c4d1fb3b78d66da7f8">gamma_s_</a>.<a class="code" href="classkaldi_1_1Vector.html#ae98e624cca1982e866ff195131ed4427">Resize</a>(0);</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  }</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  <span class="keywordflow">if</span> (flags &amp; <a class="code" href="namespacekaldi.html#a02849595104a0e44ab32a6a3400ab049a02dda54b9e16aea5259d7107231db4a8">kSgmmSpeakerProjections</a>) {</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a4ceee077c0ba5d4d5aa0336619bb73c2">spk_space_dim_</a> == 0) {</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;      <a class="code" href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a> &lt;&lt; <span class="stringliteral">&quot;Cannot set up accumulators for speaker projections &quot;</span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                &lt;&lt; <span class="stringliteral">&quot;because speaker subspace has not been set up&quot;</span>;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    }</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a89ac772ad34d9a54a888878fe747525b">Z_</a>.resize(num_gaussians_);</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a2545b9e5768cf47a08c648fda6b794d3">R_</a>.resize(num_gaussians_);</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="keywordflow">for</span> (int32 <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a17aa48bffd901faf3238e31cb141e18a">num_gaussians_</a>; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;      <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a89ac772ad34d9a54a888878fe747525b">Z_</a>[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>].Resize(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a6bff4c5c88bf8eeae5c9fc04a7f1ecf1">feature_dim_</a>, <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a4ceee077c0ba5d4d5aa0336619bb73c2">spk_space_dim_</a>);</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a2545b9e5768cf47a08c648fda6b794d3">R_</a>[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>].Resize(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a4ceee077c0ba5d4d5aa0336619bb73c2">spk_space_dim_</a>);</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    }</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a89ac772ad34d9a54a888878fe747525b">Z_</a>.clear();</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a2545b9e5768cf47a08c648fda6b794d3">R_</a>.clear();</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  }</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  <span class="keywordflow">if</span> (flags &amp; <a class="code" href="namespacekaldi.html#a02849595104a0e44ab32a6a3400ab049a2fa3029eeeb63b7626fe93333a0acd34">kSgmmCovarianceMatrix</a>) {</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a3e4cc17a0737faace498025a5afe4552">S_</a>.resize(num_gaussians_);</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="keywordflow">for</span> (int32 <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a17aa48bffd901faf3238e31cb141e18a">num_gaussians_</a>; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;      <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a3e4cc17a0737faace498025a5afe4552">S_</a>[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>].Resize(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a6bff4c5c88bf8eeae5c9fc04a7f1ecf1">feature_dim_</a>);</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    }</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a3e4cc17a0737faace498025a5afe4552">S_</a>.clear();</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  }</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  <span class="keywordflow">if</span> (flags &amp; (<a class="code" href="namespacekaldi.html#a02849595104a0e44ab32a6a3400ab049a9c18869fcf12ba3a94b84f91c5eb9ec5">kSgmmPhoneVectors</a> | <a class="code" href="namespacekaldi.html#a02849595104a0e44ab32a6a3400ab049a5ffdaf2e20407d25f1b21422709daead">kSgmmPhoneWeightProjections</a> |</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;               kSgmmCovarianceMatrix | <a class="code" href="namespacekaldi.html#a02849595104a0e44ab32a6a3400ab049a0849d036b0cb3194c692e4245ba8daba">kSgmmPhoneProjections</a>)) {</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#ab335142c25f5e0e725228652cccc13d0">gamma_</a>.resize(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a499c25e27ab7e173a47a0deedee71208">num_groups_</a>);</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="keywordflow">for</span> (int32 j1 = 0; j1 &lt; <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a499c25e27ab7e173a47a0deedee71208">num_groups_</a>; j1++) {</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;      <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#ab335142c25f5e0e725228652cccc13d0">gamma_</a>[j1].Resize(model.NumSubstatesForGroup(j1), <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a17aa48bffd901faf3238e31cb141e18a">num_gaussians_</a>);</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    }</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#ab335142c25f5e0e725228652cccc13d0">gamma_</a>.clear();</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  }</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  <span class="keywordflow">if</span> (flags &amp; (<a class="code" href="namespacekaldi.html#a02849595104a0e44ab32a6a3400ab049a9c18869fcf12ba3a94b84f91c5eb9ec5">kSgmmPhoneVectors</a> | <a class="code" href="namespacekaldi.html#a02849595104a0e44ab32a6a3400ab049a5ffdaf2e20407d25f1b21422709daead">kSgmmPhoneWeightProjections</a>)</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;      &amp;&amp; model.HasSpeakerDependentWeights() &amp;&amp; have_spk_vecs) { <span class="comment">// SSGMM code.</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a27764df0bf839b15b82ed59752923b4a">a_</a>.resize(num_groups_);</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="keywordflow">for</span> (int32 j1 = 0; j1 &lt; <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a499c25e27ab7e173a47a0deedee71208">num_groups_</a>; j1++) {</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;      <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a27764df0bf839b15b82ed59752923b4a">a_</a>[j1].Resize(model.NumSubstatesForGroup(j1),</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                    <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a17aa48bffd901faf3238e31cb141e18a">num_gaussians_</a>);</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    }</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a27764df0bf839b15b82ed59752923b4a">a_</a>.clear();</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  }</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  <span class="keywordflow">if</span> (flags &amp; <a class="code" href="namespacekaldi.html#a02849595104a0e44ab32a6a3400ab049a7ff24dc80abe63569446d4624e661ac0">kSgmmSpeakerWeightProjections</a>) {</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(model.HasSpeakerDependentWeights() &amp;&amp;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                 <span class="stringliteral">&quot;remove the flag \&quot;u\&quot; if you don&#39;t have u set up.&quot;</span>);</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#ad2845d3d9bf38255cd9e6a247c13424b">a_s_</a>.<a class="code" href="classkaldi_1_1Vector.html#ae98e624cca1982e866ff195131ed4427">Resize</a>(num_gaussians_);</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a09481f5d4524b97d7bcb77148ffd1d23">t_</a>.<a class="code" href="classkaldi_1_1Matrix.html#a70c095b28633f8874632a9d239a903d5">Resize</a>(num_gaussians_, <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a4ceee077c0ba5d4d5aa0336619bb73c2">spk_space_dim_</a>);</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a0a2c03a7a784c564939cee6cf0ce1503">U_</a>.resize(num_gaussians_);</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="keywordflow">for</span> (int32 <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a17aa48bffd901faf3238e31cb141e18a">num_gaussians_</a>; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;      <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a0a2c03a7a784c564939cee6cf0ce1503">U_</a>[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>].Resize(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a4ceee077c0ba5d4d5aa0336619bb73c2">spk_space_dim_</a>);</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#ad2845d3d9bf38255cd9e6a247c13424b">a_s_</a>.<a class="code" href="classkaldi_1_1Vector.html#ae98e624cca1982e866ff195131ed4427">Resize</a>(0);</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a09481f5d4524b97d7bcb77148ffd1d23">t_</a>.<a class="code" href="classkaldi_1_1Matrix.html#a70c095b28633f8874632a9d239a903d5">Resize</a>(0, 0);</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a0a2c03a7a784c564939cee6cf0ce1503">U_</a>.resize(0);</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  }</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">true</span>) { <span class="comment">// always set up gamma_c_; it&#39;s nominally for</span></div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <span class="comment">// estimation of substate weights, but it&#39;s also required when</span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="comment">// GetStateOccupancies() is called.</span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a97ec4c75220111b6775f9e27fca2c117">gamma_c_</a>.resize(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#acdf59753b6f2b237f080a13a5c643516">num_pdfs_</a>);</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="keywordflow">for</span> (int32 j2 = 0; j2 &lt; <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#acdf59753b6f2b237f080a13a5c643516">num_pdfs_</a>; j2++) {</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;      <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a97ec4c75220111b6775f9e27fca2c117">gamma_c_</a>[j2].Resize(model.NumSubstatesForPdf(j2));</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    }</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  }</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  <span class="keywordflow">if</span> (flags &amp; <a class="code" href="namespacekaldi.html#a02849595104a0e44ab32a6a3400ab049a9c18869fcf12ba3a94b84f91c5eb9ec5">kSgmmPhoneVectors</a>) {</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a1930fef1612d54bcfe0c522b6a64ee8a">y_</a>.resize(num_groups_);</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <span class="keywordflow">for</span> (int32 j1 = 0; j1 &lt; <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a499c25e27ab7e173a47a0deedee71208">num_groups_</a>; j1++) {</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;      <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a1930fef1612d54bcfe0c522b6a64ee8a">y_</a>[j1].Resize(model.NumSubstatesForGroup(j1), <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#aca127a1d0cd66fd41332c87a9b84d24d">phn_space_dim_</a>);</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    }</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a1930fef1612d54bcfe0c522b6a64ee8a">y_</a>.clear();</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  }</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;}</div><div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a09481f5d4524b97d7bcb77148ffd1d23"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a09481f5d4524b97d7bcb77148ffd1d23">kaldi::MleAmSgmm2Accs::t_</a></div><div class="ttdeci">Matrix&lt; double &gt; t_</div><div class="ttdoc">[SSGMM] each row is one of the t_i quantities in the less-exact version of the SSGMM update for the s...</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00205">estimate-am-sgmm2.h:205</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a97ec4c75220111b6775f9e27fca2c117"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a97ec4c75220111b6775f9e27fca2c117">kaldi::MleAmSgmm2Accs::gamma_c_</a></div><div class="ttdeci">std::vector&lt; Vector&lt; double &gt; &gt; gamma_c_</div><div class="ttdoc">Sub-state occupancies gamma_{jm}^{(c)} for each sub-state. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00223">estimate-am-sgmm2.h:223</a></div></div>
<div class="ttc" id="namespacekaldi_html_a02849595104a0e44ab32a6a3400ab049a0849d036b0cb3194c692e4245ba8daba"><div class="ttname"><a href="namespacekaldi.html#a02849595104a0e44ab32a6a3400ab049a0849d036b0cb3194c692e4245ba8daba">kaldi::kSgmmPhoneProjections</a></div><div class="ttdoc">v </div><div class="ttdef"><b>Definition:</b> <a href="model-common_8h_source.html#l00049">model-common.h:49</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_acdf59753b6f2b237f080a13a5c643516"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#acdf59753b6f2b237f080a13a5c643516">kaldi::MleAmSgmm2Accs::num_pdfs_</a></div><div class="ttdeci">int32 num_pdfs_</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00234">estimate-am-sgmm2.h:234</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a4ceee077c0ba5d4d5aa0336619bb73c2"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a4ceee077c0ba5d4d5aa0336619bb73c2">kaldi::MleAmSgmm2Accs::spk_space_dim_</a></div><div class="ttdeci">int32 spk_space_dim_</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00233">estimate-am-sgmm2.h:233</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a17aa48bffd901faf3238e31cb141e18a"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a17aa48bffd901faf3238e31cb141e18a">kaldi::MleAmSgmm2Accs::num_gaussians_</a></div><div class="ttdeci">int32 num_gaussians_</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00234">estimate-am-sgmm2.h:234</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a20c6a52171036e613e0f3d768e91b905"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a20c6a52171036e613e0f3d768e91b905">kaldi::MleAmSgmm2Accs::total_like_</a></div><div class="ttdeci">double total_like_</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00230">estimate-am-sgmm2.h:230</a></div></div>
<div class="ttc" id="namespacekaldi_html_a02849595104a0e44ab32a6a3400ab049a02dda54b9e16aea5259d7107231db4a8"><div class="ttname"><a href="namespacekaldi.html#a02849595104a0e44ab32a6a3400ab049a02dda54b9e16aea5259d7107231db4a8">kaldi::kSgmmSpeakerProjections</a></div><div class="ttdoc">c </div><div class="ttdef"><b>Definition:</b> <a href="model-common_8h_source.html#l00053">model-common.h:53</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a3e4cc17a0737faace498025a5afe4552"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a3e4cc17a0737faace498025a5afe4552">kaldi::MleAmSgmm2Accs::S_</a></div><div class="ttdeci">std::vector&lt; SpMatrix&lt; double &gt; &gt; S_</div><div class="ttdoc">S_{i}^{-}, scatter of adapted feature vectors x_{i}(t). Dim is [I][D][D]. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00188">estimate-am-sgmm2.h:188</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_ab335142c25f5e0e725228652cccc13d0"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#ab335142c25f5e0e725228652cccc13d0">kaldi::MleAmSgmm2Accs::gamma_</a></div><div class="ttdeci">std::vector&lt; Matrix&lt; double &gt; &gt; gamma_</div><div class="ttdoc">Gaussian occupancies gamma_{jmi} for each substate and Gaussian index, pooled over groups...</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00195">estimate-am-sgmm2.h:195</a></div></div>
<div class="ttc" id="classkaldi_1_1Vector_html_ae98e624cca1982e866ff195131ed4427"><div class="ttname"><a href="classkaldi_1_1Vector.html#ae98e624cca1982e866ff195131ed4427">kaldi::Vector::Resize</a></div><div class="ttdeci">void Resize(MatrixIndexT length, MatrixResizeType resize_type=kSetZero)</div><div class="ttdoc">Set vector to a specified size (can be zero). </div><div class="ttdef"><b>Definition:</b> <a href="kaldi-vector_8cc_source.html#l00190">kaldi-vector.cc:190</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a499c25e27ab7e173a47a0deedee71208"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a499c25e27ab7e173a47a0deedee71208">kaldi::MleAmSgmm2Accs::num_groups_</a></div><div class="ttdeci">int32 num_groups_</div><div class="ttdoc">Other model specifications. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00234">estimate-am-sgmm2.h:234</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a0a2c03a7a784c564939cee6cf0ce1503"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a0a2c03a7a784c564939cee6cf0ce1503">kaldi::MleAmSgmm2Accs::U_</a></div><div class="ttdeci">std::vector&lt; SpMatrix&lt; double &gt; &gt; U_</div><div class="ttdoc">the U_i quantities from the less-exact version of the SSGMM update for the speaker weight projections...</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00217">estimate-am-sgmm2.h:217</a></div></div>
<div class="ttc" id="namespacekaldi_html_a02849595104a0e44ab32a6a3400ab049a7ff24dc80abe63569446d4624e661ac0"><div class="ttname"><a href="namespacekaldi.html#a02849595104a0e44ab32a6a3400ab049a7ff24dc80abe63569446d4624e661ac0">kaldi::kSgmmSpeakerWeightProjections</a></div><div class="ttdoc">t .. not really part of SGMM. </div><div class="ttdef"><b>Definition:</b> <a href="model-common_8h_source.html#l00055">model-common.h:55</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a0a2e94703301da6f55bedf8183bcff39"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a0a2e94703301da6f55bedf8183bcff39">kaldi::MleAmSgmm2Accs::Y_</a></div><div class="ttdeci">std::vector&lt; Matrix&lt; double &gt; &gt; Y_</div><div class="ttdoc">The stats which are not tied to any state. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00182">estimate-am-sgmm2.h:182</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a1930fef1612d54bcfe0c522b6a64ee8a"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a1930fef1612d54bcfe0c522b6a64ee8a">kaldi::MleAmSgmm2Accs::y_</a></div><div class="ttdeci">std::vector&lt; Matrix&lt; double &gt; &gt; y_</div><div class="ttdoc">The SGMM state specific stats. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00192">estimate-am-sgmm2.h:192</a></div></div>
<div class="ttc" id="namespacekaldi_html_a02849595104a0e44ab32a6a3400ab049a9c18869fcf12ba3a94b84f91c5eb9ec5"><div class="ttname"><a href="namespacekaldi.html#a02849595104a0e44ab32a6a3400ab049a9c18869fcf12ba3a94b84f91c5eb9ec5">kaldi::kSgmmPhoneVectors</a></div><div class="ttdoc">The letters correspond to the variable names. </div><div class="ttdef"><b>Definition:</b> <a href="model-common_8h_source.html#l00048">model-common.h:48</a></div></div>
<div class="ttc" id="group__error__group_html_ga0251fa005e2fdb1dcc6e24f06afe3b1f"><div class="ttname"><a href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a></div><div class="ttdeci">#define KALDI_ERR</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00126">kaldi-error.h:126</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_aca127a1d0cd66fd41332c87a9b84d24d"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#aca127a1d0cd66fd41332c87a9b84d24d">kaldi::MleAmSgmm2Accs::phn_space_dim_</a></div><div class="ttdeci">int32 phn_space_dim_</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00233">estimate-am-sgmm2.h:233</a></div></div>
<div class="ttc" id="namespacekaldi_html_a02849595104a0e44ab32a6a3400ab049a2fa3029eeeb63b7626fe93333a0acd34"><div class="ttname"><a href="namespacekaldi.html#a02849595104a0e44ab32a6a3400ab049a2fa3029eeeb63b7626fe93333a0acd34">kaldi::kSgmmCovarianceMatrix</a></div><div class="ttdoc">w </div><div class="ttdef"><b>Definition:</b> <a href="model-common_8h_source.html#l00051">model-common.h:51</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a27764df0bf839b15b82ed59752923b4a"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a27764df0bf839b15b82ed59752923b4a">kaldi::MleAmSgmm2Accs::a_</a></div><div class="ttdeci">std::vector&lt; Matrix&lt; double &gt; &gt; a_</div><div class="ttdoc">[SSGMM] These a_{jmi} quantities are dimensionally the same as the gamma quantities. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00200">estimate-am-sgmm2.h:200</a></div></div>
<div class="ttc" id="namespacernnlm_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">rnnlm::i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="mikolov-rnnlm-lib_8cc_source.html#l00066">mikolov-rnnlm-lib.cc:66</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_ad2845d3d9bf38255cd9e6a247c13424b"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#ad2845d3d9bf38255cd9e6a247c13424b">kaldi::MleAmSgmm2Accs::a_s_</a></div><div class="ttdeci">Vector&lt; double &gt; a_s_</div><div class="ttdoc">[SSGMM], this is a per-speaker variable storing the a_i^{(s)} quantities that we will use in order to...</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00213">estimate-am-sgmm2.h:213</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a2545b9e5768cf47a08c648fda6b794d3"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a2545b9e5768cf47a08c648fda6b794d3">kaldi::MleAmSgmm2Accs::R_</a></div><div class="ttdeci">std::vector&lt; SpMatrix&lt; double &gt; &gt; R_</div><div class="ttdoc">R_{i}, quadratic term for speaker subspace estimation. Dim is [I][T][T]. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00186">estimate-am-sgmm2.h:186</a></div></div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00168">kaldi-error.h:168</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a6bff4c5c88bf8eeae5c9fc04a7f1ecf1"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a6bff4c5c88bf8eeae5c9fc04a7f1ecf1">kaldi::MleAmSgmm2Accs::feature_dim_</a></div><div class="ttdeci">int32 feature_dim_</div><div class="ttdoc">Dimensionality of various subspaces. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00233">estimate-am-sgmm2.h:233</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a89ac772ad34d9a54a888878fe747525b"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a89ac772ad34d9a54a888878fe747525b">kaldi::MleAmSgmm2Accs::Z_</a></div><div class="ttdeci">std::vector&lt; Matrix&lt; double &gt; &gt; Z_</div><div class="ttdoc">Stats Z_{i} for speaker-subspace projections N. Dim is [I][D][T]. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00184">estimate-am-sgmm2.h:184</a></div></div>
<div class="ttc" id="classkaldi_1_1Matrix_html_a70c095b28633f8874632a9d239a903d5"><div class="ttname"><a href="classkaldi_1_1Matrix.html#a70c095b28633f8874632a9d239a903d5">kaldi::Matrix::Resize</a></div><div class="ttdeci">void Resize(const MatrixIndexT r, const MatrixIndexT c, MatrixResizeType resize_type=kSetZero, MatrixStrideType stride_type=kDefaultStride)</div><div class="ttdoc">Sets matrix to a specified size (zero is OK as long as both r and c are zero). </div><div class="ttdef"><b>Definition:</b> <a href="kaldi-matrix_8cc_source.html#l00818">kaldi-matrix.cc:818</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_ae0e7c36868476594fbc8f83d4f04ab58"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#ae0e7c36868476594fbc8f83d4f04ab58">kaldi::MleAmSgmm2Accs::total_frames_</a></div><div class="ttdeci">double total_frames_</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00230">estimate-am-sgmm2.h:230</a></div></div>
<div class="ttc" id="namespacekaldi_html_a02849595104a0e44ab32a6a3400ab049a5ffdaf2e20407d25f1b21422709daead"><div class="ttname"><a href="namespacekaldi.html#a02849595104a0e44ab32a6a3400ab049a5ffdaf2e20407d25f1b21422709daead">kaldi::kSgmmPhoneWeightProjections</a></div><div class="ttdoc">M. </div><div class="ttdef"><b>Definition:</b> <a href="model-common_8h_source.html#l00050">model-common.h:50</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a5a8bf205f234b2c4d1fb3b78d66da7f8"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a5a8bf205f234b2c4d1fb3b78d66da7f8">kaldi::MleAmSgmm2Accs::gamma_s_</a></div><div class="ttdeci">Vector&lt; double &gt; gamma_s_</div><div class="ttdoc">gamma_{i}^{(s)}. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00228">estimate-am-sgmm2.h:228</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="affa097bf4d31dd363669a7de66a970ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affa097bf4d31dd363669a7de66a970ac">&#9670;&nbsp;</a></span>Write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Write </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>out_stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>binary</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00034">34</a> of file <a class="el" href="estimate-am-sgmm2_8cc_source.html">estimate-am-sgmm2.cc</a>.</p>

<p class="reference">References <a class="el" href="estimate-am-sgmm2_8h_source.html#l00200">MleAmSgmm2Accs::a_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00233">MleAmSgmm2Accs::feature_dim_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00195">MleAmSgmm2Accs::gamma_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00223">MleAmSgmm2Accs::gamma_c_</a>, <a class="el" href="mikolov-rnnlm-lib_8cc_source.html#l00066">rnnlm::i</a>, <a class="el" href="kaldi-error_8h_source.html#l00168">KALDI_ASSERT</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00234">MleAmSgmm2Accs::num_gaussians_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00234">MleAmSgmm2Accs::num_groups_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00234">MleAmSgmm2Accs::num_pdfs_</a>, <a class="el" href="kaldi-matrix_8h_source.html#l00061">MatrixBase&lt; Real &gt;::NumRows()</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00233">MleAmSgmm2Accs::phn_space_dim_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00186">MleAmSgmm2Accs::R_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00188">MleAmSgmm2Accs::S_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00233">MleAmSgmm2Accs::spk_space_dim_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00205">MleAmSgmm2Accs::t_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00230">MleAmSgmm2Accs::total_frames_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00230">MleAmSgmm2Accs::total_like_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00217">MleAmSgmm2Accs::U_</a>, <a class="el" href="kaldi-matrix_8cc_source.html#l01378">MatrixBase&lt; Real &gt;::Write()</a>, <a class="el" href="io-funcs-inl_8h_source.html#l00034">kaldi::WriteBasicType()</a>, <a class="el" href="io-funcs_8cc_source.html#l00134">kaldi::WriteToken()</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00182">MleAmSgmm2Accs::Y_</a>, <a class="el" href="estimate-am-sgmm2_8h_source.html#l00192">MleAmSgmm2Accs::y_</a>, and <a class="el" href="estimate-am-sgmm2_8h_source.html#l00184">MleAmSgmm2Accs::Z_</a>.</p>

<p class="reference">Referenced by <a class="el" href="sgmm2-acc-stats-gpost_8cc_source.html#l00029">main()</a>, and <a class="el" href="estimate-am-sgmm2-test_8cc_source.html#l00038">TestSgmm2AccsIO()</a>.</p>
<div class="fragment"><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;                                                                    {</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">WriteToken</a>(out_stream, binary, <span class="stringliteral">&quot;&lt;SGMMACCS&gt;&quot;</span>);</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">WriteToken</a>(out_stream, binary, <span class="stringliteral">&quot;&lt;NUMPDFS&gt;&quot;</span>);</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga108506a9aabafd9006926aa1b47617da">WriteBasicType</a>(out_stream, binary, <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#acdf59753b6f2b237f080a13a5c643516">num_pdfs_</a>);</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">WriteToken</a>(out_stream, binary, <span class="stringliteral">&quot;&lt;NUMGROUPS&gt;&quot;</span>);</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga108506a9aabafd9006926aa1b47617da">WriteBasicType</a>(out_stream, binary, <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a499c25e27ab7e173a47a0deedee71208">num_groups_</a>);</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">WriteToken</a>(out_stream, binary, <span class="stringliteral">&quot;&lt;NUMGaussians&gt;&quot;</span>);</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga108506a9aabafd9006926aa1b47617da">WriteBasicType</a>(out_stream, binary, <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a17aa48bffd901faf3238e31cb141e18a">num_gaussians_</a>);</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">WriteToken</a>(out_stream, binary, <span class="stringliteral">&quot;&lt;FEATUREDIM&gt;&quot;</span>);</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga108506a9aabafd9006926aa1b47617da">WriteBasicType</a>(out_stream, binary, <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a6bff4c5c88bf8eeae5c9fc04a7f1ecf1">feature_dim_</a>);</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">WriteToken</a>(out_stream, binary, <span class="stringliteral">&quot;&lt;PHONESPACEDIM&gt;&quot;</span>);</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga108506a9aabafd9006926aa1b47617da">WriteBasicType</a>(out_stream, binary, <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#aca127a1d0cd66fd41332c87a9b84d24d">phn_space_dim_</a>);</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">WriteToken</a>(out_stream, binary, <span class="stringliteral">&quot;&lt;SPKSPACEDIM&gt;&quot;</span>);</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga108506a9aabafd9006926aa1b47617da">WriteBasicType</a>(out_stream, binary, <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a4ceee077c0ba5d4d5aa0336619bb73c2">spk_space_dim_</a>);</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  <span class="keywordflow">if</span> (!binary) out_stream &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a0a2e94703301da6f55bedf8183bcff39">Y_</a>.size() != 0) {</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#ab335142c25f5e0e725228652cccc13d0">gamma_</a>.size() != 0);</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <a class="code" href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">WriteToken</a>(out_stream, binary, <span class="stringliteral">&quot;&lt;Y&gt;&quot;</span>);</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="keywordflow">for</span> (int32 <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a17aa48bffd901faf3238e31cb141e18a">num_gaussians_</a>; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;      Matrix&lt;BaseFloat&gt;(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a0a2e94703301da6f55bedf8183bcff39">Y_</a>[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>]).<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#affa097bf4d31dd363669a7de66a970ac">Write</a>(out_stream, binary);</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    }</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  }</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a89ac772ad34d9a54a888878fe747525b">Z_</a>.size() != 0) {</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a2545b9e5768cf47a08c648fda6b794d3">R_</a>.size() != 0);</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <a class="code" href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">WriteToken</a>(out_stream, binary, <span class="stringliteral">&quot;&lt;Z&gt;&quot;</span>);</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keywordflow">for</span> (int32 <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a17aa48bffd901faf3238e31cb141e18a">num_gaussians_</a>; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;      Matrix&lt;BaseFloat&gt;(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a89ac772ad34d9a54a888878fe747525b">Z_</a>[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>]).<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#affa097bf4d31dd363669a7de66a970ac">Write</a>(out_stream, binary);</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    }</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <a class="code" href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">WriteToken</a>(out_stream, binary, <span class="stringliteral">&quot;&lt;R&gt;&quot;</span>);</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keywordflow">for</span> (int32 <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a17aa48bffd901faf3238e31cb141e18a">num_gaussians_</a>; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;      SpMatrix&lt;BaseFloat&gt;(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a2545b9e5768cf47a08c648fda6b794d3">R_</a>[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>]).<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#affa097bf4d31dd363669a7de66a970ac">Write</a>(out_stream, binary);</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    }</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  }</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a3e4cc17a0737faace498025a5afe4552">S_</a>.size() != 0) {</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#ab335142c25f5e0e725228652cccc13d0">gamma_</a>.size() != 0);</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <a class="code" href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">WriteToken</a>(out_stream, binary, <span class="stringliteral">&quot;&lt;S&gt;&quot;</span>);</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keywordflow">for</span> (int32 <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a17aa48bffd901faf3238e31cb141e18a">num_gaussians_</a>; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;      SpMatrix&lt;BaseFloat&gt;(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a3e4cc17a0737faace498025a5afe4552">S_</a>[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>]).<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#affa097bf4d31dd363669a7de66a970ac">Write</a>(out_stream, binary);</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    }</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  }</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a1930fef1612d54bcfe0c522b6a64ee8a">y_</a>.size() != 0) {</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#ab335142c25f5e0e725228652cccc13d0">gamma_</a>.size() != 0);</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <a class="code" href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">WriteToken</a>(out_stream, binary, <span class="stringliteral">&quot;&lt;y&gt;&quot;</span>);</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="keywordflow">for</span> (int32 j1 = 0; j1 &lt; <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a499c25e27ab7e173a47a0deedee71208">num_groups_</a>; j1++) {</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;      Matrix&lt;BaseFloat&gt;(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a1930fef1612d54bcfe0c522b6a64ee8a">y_</a>[j1]).<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#affa097bf4d31dd363669a7de66a970ac">Write</a>(out_stream, binary);</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    }</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  }</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#ab335142c25f5e0e725228652cccc13d0">gamma_</a>.size() != 0) { <span class="comment">// These stats are large</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="comment">// -&gt; write as single precision.</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <a class="code" href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">WriteToken</a>(out_stream, binary, <span class="stringliteral">&quot;&lt;gamma&gt;&quot;</span>);</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordflow">for</span> (int32 j1 = 0; j1 &lt; <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a499c25e27ab7e173a47a0deedee71208">num_groups_</a>; j1++) {</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;      Matrix&lt;BaseFloat&gt; gamma_j1(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#ab335142c25f5e0e725228652cccc13d0">gamma_</a>[j1]);</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;      gamma_j1.Write(out_stream, binary);</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    }</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  }</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a09481f5d4524b97d7bcb77148ffd1d23">t_</a>.<a class="code" href="classkaldi_1_1MatrixBase.html#a01cf7fccddf8deddc75b34408144ded1">NumRows</a>() != 0) {</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <a class="code" href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">WriteToken</a>(out_stream, binary, <span class="stringliteral">&quot;&lt;t&gt;&quot;</span>);</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    Matrix&lt;BaseFloat&gt;(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a09481f5d4524b97d7bcb77148ffd1d23">t_</a>).<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#affa097bf4d31dd363669a7de66a970ac">Write</a>(out_stream, binary);</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  }</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a0a2c03a7a784c564939cee6cf0ce1503">U_</a>.size() != 0) {</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <a class="code" href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">WriteToken</a>(out_stream, binary, <span class="stringliteral">&quot;&lt;U&gt;&quot;</span>);</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordflow">for</span> (int32 <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a17aa48bffd901faf3238e31cb141e18a">num_gaussians_</a>; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;      SpMatrix&lt;BaseFloat&gt;(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a0a2c03a7a784c564939cee6cf0ce1503">U_</a>[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>]).<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#affa097bf4d31dd363669a7de66a970ac">Write</a>(out_stream, binary);</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    }</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  }</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a97ec4c75220111b6775f9e27fca2c117">gamma_c_</a>.size() != 0) {</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <a class="code" href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">WriteToken</a>(out_stream, binary, <span class="stringliteral">&quot;&lt;gamma_c&gt;&quot;</span>);</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordflow">for</span> (int32 j2 = 0; j2 &lt; <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#acdf59753b6f2b237f080a13a5c643516">num_pdfs_</a>; j2++) {</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;      Vector&lt;BaseFloat&gt;(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a97ec4c75220111b6775f9e27fca2c117">gamma_c_</a>[j2]).<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#affa097bf4d31dd363669a7de66a970ac">Write</a>(out_stream, binary);</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    }</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  }</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a27764df0bf839b15b82ed59752923b4a">a_</a>.size() != 0) {</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <a class="code" href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">WriteToken</a>(out_stream, binary, <span class="stringliteral">&quot;&lt;a&gt;&quot;</span>);</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keywordflow">for</span> (int32 j1 = 0; j1 &lt; <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a499c25e27ab7e173a47a0deedee71208">num_groups_</a>; j1++) {</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;      Matrix&lt;BaseFloat&gt;(<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a27764df0bf839b15b82ed59752923b4a">a_</a>[j1]).<a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#affa097bf4d31dd363669a7de66a970ac">Write</a>(out_stream, binary);</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    }</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  }</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">WriteToken</a>(out_stream, binary, <span class="stringliteral">&quot;&lt;total_like&gt;&quot;</span>);</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga108506a9aabafd9006926aa1b47617da">WriteBasicType</a>(out_stream, binary, <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#a20c6a52171036e613e0f3d768e91b905">total_like_</a>);</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">WriteToken</a>(out_stream, binary, <span class="stringliteral">&quot;&lt;total_frames&gt;&quot;</span>);</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga108506a9aabafd9006926aa1b47617da">WriteBasicType</a>(out_stream, binary, <a class="code" href="classkaldi_1_1MleAmSgmm2Accs.html#ae0e7c36868476594fbc8f83d4f04ab58">total_frames_</a>);</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">WriteToken</a>(out_stream, binary, <span class="stringliteral">&quot;&lt;/SGMMACCS&gt;&quot;</span>);</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;}</div><div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a09481f5d4524b97d7bcb77148ffd1d23"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a09481f5d4524b97d7bcb77148ffd1d23">kaldi::MleAmSgmm2Accs::t_</a></div><div class="ttdeci">Matrix&lt; double &gt; t_</div><div class="ttdoc">[SSGMM] each row is one of the t_i quantities in the less-exact version of the SSGMM update for the s...</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00205">estimate-am-sgmm2.h:205</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a97ec4c75220111b6775f9e27fca2c117"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a97ec4c75220111b6775f9e27fca2c117">kaldi::MleAmSgmm2Accs::gamma_c_</a></div><div class="ttdeci">std::vector&lt; Vector&lt; double &gt; &gt; gamma_c_</div><div class="ttdoc">Sub-state occupancies gamma_{jm}^{(c)} for each sub-state. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00223">estimate-am-sgmm2.h:223</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_acdf59753b6f2b237f080a13a5c643516"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#acdf59753b6f2b237f080a13a5c643516">kaldi::MleAmSgmm2Accs::num_pdfs_</a></div><div class="ttdeci">int32 num_pdfs_</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00234">estimate-am-sgmm2.h:234</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a4ceee077c0ba5d4d5aa0336619bb73c2"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a4ceee077c0ba5d4d5aa0336619bb73c2">kaldi::MleAmSgmm2Accs::spk_space_dim_</a></div><div class="ttdeci">int32 spk_space_dim_</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00233">estimate-am-sgmm2.h:233</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a17aa48bffd901faf3238e31cb141e18a"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a17aa48bffd901faf3238e31cb141e18a">kaldi::MleAmSgmm2Accs::num_gaussians_</a></div><div class="ttdeci">int32 num_gaussians_</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00234">estimate-am-sgmm2.h:234</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a20c6a52171036e613e0f3d768e91b905"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a20c6a52171036e613e0f3d768e91b905">kaldi::MleAmSgmm2Accs::total_like_</a></div><div class="ttdeci">double total_like_</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00230">estimate-am-sgmm2.h:230</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a3e4cc17a0737faace498025a5afe4552"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a3e4cc17a0737faace498025a5afe4552">kaldi::MleAmSgmm2Accs::S_</a></div><div class="ttdeci">std::vector&lt; SpMatrix&lt; double &gt; &gt; S_</div><div class="ttdoc">S_{i}^{-}, scatter of adapted feature vectors x_{i}(t). Dim is [I][D][D]. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00188">estimate-am-sgmm2.h:188</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_ab335142c25f5e0e725228652cccc13d0"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#ab335142c25f5e0e725228652cccc13d0">kaldi::MleAmSgmm2Accs::gamma_</a></div><div class="ttdeci">std::vector&lt; Matrix&lt; double &gt; &gt; gamma_</div><div class="ttdoc">Gaussian occupancies gamma_{jmi} for each substate and Gaussian index, pooled over groups...</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00195">estimate-am-sgmm2.h:195</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a499c25e27ab7e173a47a0deedee71208"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a499c25e27ab7e173a47a0deedee71208">kaldi::MleAmSgmm2Accs::num_groups_</a></div><div class="ttdeci">int32 num_groups_</div><div class="ttdoc">Other model specifications. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00234">estimate-am-sgmm2.h:234</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a0a2c03a7a784c564939cee6cf0ce1503"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a0a2c03a7a784c564939cee6cf0ce1503">kaldi::MleAmSgmm2Accs::U_</a></div><div class="ttdeci">std::vector&lt; SpMatrix&lt; double &gt; &gt; U_</div><div class="ttdoc">the U_i quantities from the less-exact version of the SSGMM update for the speaker weight projections...</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00217">estimate-am-sgmm2.h:217</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a0a2e94703301da6f55bedf8183bcff39"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a0a2e94703301da6f55bedf8183bcff39">kaldi::MleAmSgmm2Accs::Y_</a></div><div class="ttdeci">std::vector&lt; Matrix&lt; double &gt; &gt; Y_</div><div class="ttdoc">The stats which are not tied to any state. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00182">estimate-am-sgmm2.h:182</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a1930fef1612d54bcfe0c522b6a64ee8a"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a1930fef1612d54bcfe0c522b6a64ee8a">kaldi::MleAmSgmm2Accs::y_</a></div><div class="ttdeci">std::vector&lt; Matrix&lt; double &gt; &gt; y_</div><div class="ttdoc">The SGMM state specific stats. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00192">estimate-am-sgmm2.h:192</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_aca127a1d0cd66fd41332c87a9b84d24d"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#aca127a1d0cd66fd41332c87a9b84d24d">kaldi::MleAmSgmm2Accs::phn_space_dim_</a></div><div class="ttdeci">int32 phn_space_dim_</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00233">estimate-am-sgmm2.h:233</a></div></div>
<div class="ttc" id="group__io__funcs__basic_html_ga87f1638ef3c0a3ee117178b202c2d02a"><div class="ttname"><a href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">kaldi::WriteToken</a></div><div class="ttdeci">void WriteToken(std::ostream &amp;os, bool binary, const char *token)</div><div class="ttdoc">The WriteToken functions are for writing nonempty sequences of non-space characters. </div><div class="ttdef"><b>Definition:</b> <a href="io-funcs_8cc_source.html#l00134">io-funcs.cc:134</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_affa097bf4d31dd363669a7de66a970ac"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#affa097bf4d31dd363669a7de66a970ac">kaldi::MleAmSgmm2Accs::Write</a></div><div class="ttdeci">void Write(std::ostream &amp;out_stream, bool binary) const</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8cc_source.html#l00034">estimate-am-sgmm2.cc:34</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a27764df0bf839b15b82ed59752923b4a"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a27764df0bf839b15b82ed59752923b4a">kaldi::MleAmSgmm2Accs::a_</a></div><div class="ttdeci">std::vector&lt; Matrix&lt; double &gt; &gt; a_</div><div class="ttdoc">[SSGMM] These a_{jmi} quantities are dimensionally the same as the gamma quantities. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00200">estimate-am-sgmm2.h:200</a></div></div>
<div class="ttc" id="namespacernnlm_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">rnnlm::i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="mikolov-rnnlm-lib_8cc_source.html#l00066">mikolov-rnnlm-lib.cc:66</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a2545b9e5768cf47a08c648fda6b794d3"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a2545b9e5768cf47a08c648fda6b794d3">kaldi::MleAmSgmm2Accs::R_</a></div><div class="ttdeci">std::vector&lt; SpMatrix&lt; double &gt; &gt; R_</div><div class="ttdoc">R_{i}, quadratic term for speaker subspace estimation. Dim is [I][T][T]. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00186">estimate-am-sgmm2.h:186</a></div></div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00168">kaldi-error.h:168</a></div></div>
<div class="ttc" id="classkaldi_1_1MatrixBase_html_a01cf7fccddf8deddc75b34408144ded1"><div class="ttname"><a href="classkaldi_1_1MatrixBase.html#a01cf7fccddf8deddc75b34408144ded1">kaldi::MatrixBase::NumRows</a></div><div class="ttdeci">MatrixIndexT NumRows() const</div><div class="ttdoc">Returns number of rows (or zero for emtpy matrix). </div><div class="ttdef"><b>Definition:</b> <a href="kaldi-matrix_8h_source.html#l00061">kaldi-matrix.h:61</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a6bff4c5c88bf8eeae5c9fc04a7f1ecf1"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a6bff4c5c88bf8eeae5c9fc04a7f1ecf1">kaldi::MleAmSgmm2Accs::feature_dim_</a></div><div class="ttdeci">int32 feature_dim_</div><div class="ttdoc">Dimensionality of various subspaces. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00233">estimate-am-sgmm2.h:233</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_a89ac772ad34d9a54a888878fe747525b"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#a89ac772ad34d9a54a888878fe747525b">kaldi::MleAmSgmm2Accs::Z_</a></div><div class="ttdeci">std::vector&lt; Matrix&lt; double &gt; &gt; Z_</div><div class="ttdoc">Stats Z_{i} for speaker-subspace projections N. Dim is [I][D][T]. </div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00184">estimate-am-sgmm2.h:184</a></div></div>
<div class="ttc" id="group__io__funcs__basic_html_ga108506a9aabafd9006926aa1b47617da"><div class="ttname"><a href="group__io__funcs__basic.html#ga108506a9aabafd9006926aa1b47617da">kaldi::WriteBasicType</a></div><div class="ttdeci">void WriteBasicType(std::ostream &amp;os, bool binary, T t)</div><div class="ttdoc">WriteBasicType is the name of the write function for bool, integer types, and floating-point types...</div><div class="ttdef"><b>Definition:</b> <a href="io-funcs-inl_8h_source.html#l00034">io-funcs-inl.h:34</a></div></div>
<div class="ttc" id="classkaldi_1_1MleAmSgmm2Accs_html_ae0e7c36868476594fbc8f83d4f04ab58"><div class="ttname"><a href="classkaldi_1_1MleAmSgmm2Accs.html#ae0e7c36868476594fbc8f83d4f04ab58">kaldi::MleAmSgmm2Accs::total_frames_</a></div><div class="ttdeci">double total_frames_</div><div class="ttdef"><b>Definition:</b> <a href="estimate-am-sgmm2_8h_source.html#l00230">estimate-am-sgmm2.h:230</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a id="a9e35829d34dc3d0a79157c9e3c916ef4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e35829d34dc3d0a79157c9e3c916ef4">&#9670;&nbsp;</a></span>EbwAmSgmm2Updater</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classkaldi_1_1EbwAmSgmm2Updater.html">EbwAmSgmm2Updater</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="estimate-am-sgmm2_8h_source.html#l00240">240</a> of file <a class="el" href="estimate-am-sgmm2_8h_source.html">estimate-am-sgmm2.h</a>.</p>

</div>
</div>
<a id="a86f2b806c4f2c996417e4fb033d2d0a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86f2b806c4f2c996417e4fb033d2d0a3">&#9670;&nbsp;</a></span>MleAmSgmm2Updater</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classkaldi_1_1MleAmSgmm2Updater.html">MleAmSgmm2Updater</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="estimate-am-sgmm2_8h_source.html#l00239">239</a> of file <a class="el" href="estimate-am-sgmm2_8h_source.html">estimate-am-sgmm2.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a27764df0bf839b15b82ed59752923b4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27764df0bf839b15b82ed59752923b4a">&#9670;&nbsp;</a></span>a_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classkaldi_1_1Matrix.html">Matrix</a>&lt;double&gt; &gt; a_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>[SSGMM] These a_{jmi} quantities are dimensionally the same as the gamma quantities. </p>
<p>They're needed to estimate the v_{jm} and w_i quantities in the symmetric SGMM. Dimension is [J1][#mix][S] </p>

<p class="definition">Definition at line <a class="el" href="estimate-am-sgmm2_8h_source.html#l00200">200</a> of file <a class="el" href="estimate-am-sgmm2_8h_source.html">estimate-am-sgmm2.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00487">MleAmSgmm2Accs::AccumulateFromPosteriors()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00213">MleAmSgmm2Accs::Check()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00806">MleAmSgmm2Updater::ComputeLogA()</a>, <a class="el" href="estimate-am-sgmm2-ebw_8cc_source.html#l00146">EbwAmSgmm2Updater::ComputePhoneVecStats()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00122">MleAmSgmm2Accs::Read()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00365">MleAmSgmm2Accs::ResizeAccumulators()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00612">MleAmSgmm2Updater::Update()</a>, and <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00034">MleAmSgmm2Accs::Write()</a>.</p>

</div>
</div>
<a id="ad2845d3d9bf38255cd9e6a247c13424b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2845d3d9bf38255cd9e6a247c13424b">&#9670;&nbsp;</a></span>a_s_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classkaldi_1_1Vector.html">Vector</a>&lt;double&gt; a_s_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>[SSGMM], this is a per-speaker variable storing the a_i^{(s)} quantities that we will use in order to compute the non-speaker- specific quantities [see eqs. </p>
<p>53 and 54 in techreport]. Note: there is a separate variable a_s_ in class <a class="el" href="classkaldi_1_1MleSgmm2SpeakerAccs.html" title="Class for the accumulators required to update the speaker vectors v_s. ">MleSgmm2SpeakerAccs</a>, which is the same thing but for purposes of computing the speaker-vector v^{(s)}. </p>

<p class="definition">Definition at line <a class="el" href="estimate-am-sgmm2_8h_source.html#l00213">213</a> of file <a class="el" href="estimate-am-sgmm2_8h_source.html">estimate-am-sgmm2.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00487">MleAmSgmm2Accs::AccumulateFromPosteriors()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00580">MleAmSgmm2Accs::CommitStatsForSpk()</a>, and <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00365">MleAmSgmm2Accs::ResizeAccumulators()</a>.</p>

</div>
</div>
<a id="a6bff4c5c88bf8eeae5c9fc04a7f1ecf1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bff4c5c88bf8eeae5c9fc04a7f1ecf1">&#9670;&nbsp;</a></span>feature_dim_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32 feature_dim_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Dimensionality of various subspaces. </p>

<p class="definition">Definition at line <a class="el" href="estimate-am-sgmm2_8h_source.html#l00233">233</a> of file <a class="el" href="estimate-am-sgmm2_8h_source.html">estimate-am-sgmm2.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00487">MleAmSgmm2Accs::AccumulateFromPosteriors()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00213">MleAmSgmm2Accs::Check()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00706">MleAmSgmm2Updater::ComputeSMeans()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l01183">MleAmSgmm2Updater::MapUpdateM()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00122">MleAmSgmm2Accs::Read()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l01525">MleAmSgmm2Updater::RenormalizeN()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00944">MleAmSgmm2Updater::RenormalizeV()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00365">MleAmSgmm2Accs::ResizeAccumulators()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l01040">MleAmSgmm2Updater::UpdateM()</a>, <a class="el" href="estimate-am-sgmm2-ebw_8cc_source.html#l00524">EbwAmSgmm2Updater::UpdateN()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l01566">MleAmSgmm2Updater::UpdateVars()</a>, and <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00034">MleAmSgmm2Accs::Write()</a>.</p>

</div>
</div>
<a id="ab335142c25f5e0e725228652cccc13d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab335142c25f5e0e725228652cccc13d0">&#9670;&nbsp;</a></span>gamma_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classkaldi_1_1Matrix.html">Matrix</a>&lt;double&gt; &gt; gamma_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gaussian occupancies gamma_{jmi} for each substate and Gaussian index, pooled over groups. </p>
<p>Dim is [J1][#mix][I]. </p>

<p class="definition">Definition at line <a class="el" href="estimate-am-sgmm2_8h_source.html#l00195">195</a> of file <a class="el" href="estimate-am-sgmm2_8h_source.html">estimate-am-sgmm2.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00487">MleAmSgmm2Accs::AccumulateFromPosteriors()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00213">MleAmSgmm2Accs::Check()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00806">MleAmSgmm2Updater::ComputeLogA()</a>, <a class="el" href="estimate-am-sgmm2-ebw_8cc_source.html#l00146">EbwAmSgmm2Updater::ComputePhoneVecStats()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00686">MleAmSgmm2Updater::ComputeQ()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00706">MleAmSgmm2Updater::ComputeSMeans()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00122">MleAmSgmm2Accs::Read()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00365">MleAmSgmm2Accs::ResizeAccumulators()</a>, <a class="el" href="estimate-am-sgmm2-ebw_8cc_source.html#l00027">EbwAmSgmm2Updater::Update()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00612">MleAmSgmm2Updater::Update()</a>, <a class="el" href="estimate-am-sgmm2-ebw_8cc_source.html#l00261">EbwAmSgmm2Updater::UpdatePhoneVectors()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00782">MleAmSgmm2Updater::UpdatePhoneVectors()</a>, <a class="el" href="estimate-am-sgmm2-ebw_8cc_source.html#l00178">EbwAmSgmm2Updater::UpdatePhoneVectorsInternal()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00838">MleAmSgmm2Updater::UpdatePhoneVectorsInternal()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l01321">MleAmSgmm2Updater::UpdateW()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l01258">MleAmSgmm2Updater::UpdateWGetStats()</a>, and <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00034">MleAmSgmm2Accs::Write()</a>.</p>

</div>
</div>
<a id="a97ec4c75220111b6775f9e27fca2c117"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97ec4c75220111b6775f9e27fca2c117">&#9670;&nbsp;</a></span>gamma_c_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classkaldi_1_1Vector.html">Vector</a>&lt;double&gt; &gt; gamma_c_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sub-state occupancies gamma_{jm}^{(c)} for each sub-state. </p>
<p>In the SCTM version of the SGMM, for compactness we store two separate sets of gamma statistics, one to estimate the v_{jm} quantities and one to estimate the sub-state weights c_{jm}. </p>

<p class="definition">Definition at line <a class="el" href="estimate-am-sgmm2_8h_source.html#l00223">223</a> of file <a class="el" href="estimate-am-sgmm2_8h_source.html">estimate-am-sgmm2.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00487">MleAmSgmm2Accs::AccumulateFromPosteriors()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00213">MleAmSgmm2Accs::Check()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00604">MleAmSgmm2Accs::GetStateOccupancies()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00122">MleAmSgmm2Accs::Read()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00365">MleAmSgmm2Accs::ResizeAccumulators()</a>, <a class="el" href="estimate-am-sgmm2-ebw_8cc_source.html#l00672">EbwAmSgmm2Updater::UpdateSubstateWeights()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l01682">MleAmSgmm2Updater::UpdateSubstateWeights()</a>, and <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00034">MleAmSgmm2Accs::Write()</a>.</p>

</div>
</div>
<a id="a5a8bf205f234b2c4d1fb3b78d66da7f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a8bf205f234b2c4d1fb3b78d66da7f8">&#9670;&nbsp;</a></span>gamma_s_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classkaldi_1_1Vector.html">Vector</a>&lt;double&gt; gamma_s_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>gamma_{i}^{(s)}. </p>
<p>Per-speaker counts for each Gaussian. Dimension is [I] Needed for stats R_. This can be viewed as a temporary variable; it does not form part of the stats that we eventually dump to disk. </p>

<p class="definition">Definition at line <a class="el" href="estimate-am-sgmm2_8h_source.html#l00228">228</a> of file <a class="el" href="estimate-am-sgmm2_8h_source.html">estimate-am-sgmm2.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00487">MleAmSgmm2Accs::AccumulateFromPosteriors()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00213">MleAmSgmm2Accs::Check()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00580">MleAmSgmm2Accs::CommitStatsForSpk()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00122">MleAmSgmm2Accs::Read()</a>, and <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00365">MleAmSgmm2Accs::ResizeAccumulators()</a>.</p>

</div>
</div>
<a id="a17aa48bffd901faf3238e31cb141e18a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17aa48bffd901faf3238e31cb141e18a">&#9670;&nbsp;</a></span>num_gaussians_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32 num_gaussians_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="estimate-am-sgmm2_8h_source.html#l00234">234</a> of file <a class="el" href="estimate-am-sgmm2_8h_source.html">estimate-am-sgmm2.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00213">MleAmSgmm2Accs::Check()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00580">MleAmSgmm2Accs::CommitStatsForSpk()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00806">MleAmSgmm2Updater::ComputeLogA()</a>, <a class="el" href="estimate-am-sgmm2-ebw_8cc_source.html#l00146">EbwAmSgmm2Updater::ComputePhoneVecStats()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00686">MleAmSgmm2Updater::ComputeQ()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00706">MleAmSgmm2Updater::ComputeSMeans()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00122">MleAmSgmm2Accs::Read()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l01525">MleAmSgmm2Updater::RenormalizeN()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00944">MleAmSgmm2Updater::RenormalizeV()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00365">MleAmSgmm2Accs::ResizeAccumulators()</a>, <a class="el" href="estimate-am-sgmm2-ebw_8cc_source.html#l00027">EbwAmSgmm2Updater::Update()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00612">MleAmSgmm2Updater::Update()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l01040">MleAmSgmm2Updater::UpdateM()</a>, <a class="el" href="estimate-am-sgmm2-ebw_8cc_source.html#l00524">EbwAmSgmm2Updater::UpdateN()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l01486">MleAmSgmm2Updater::UpdateN()</a>, <a class="el" href="estimate-am-sgmm2-ebw_8cc_source.html#l00178">EbwAmSgmm2Updater::UpdatePhoneVectorsInternal()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00838">MleAmSgmm2Updater::UpdatePhoneVectorsInternal()</a>, <a class="el" href="estimate-am-sgmm2-ebw_8cc_source.html#l00463">EbwAmSgmm2Updater::UpdateU()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l01439">MleAmSgmm2Updater::UpdateU()</a>, <a class="el" href="estimate-am-sgmm2-ebw_8cc_source.html#l00597">EbwAmSgmm2Updater::UpdateVars()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l01566">MleAmSgmm2Updater::UpdateVars()</a>, <a class="el" href="estimate-am-sgmm2-ebw_8cc_source.html#l00370">EbwAmSgmm2Updater::UpdateW()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l01321">MleAmSgmm2Updater::UpdateW()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l01258">MleAmSgmm2Updater::UpdateWGetStats()</a>, and <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00034">MleAmSgmm2Accs::Write()</a>.</p>

</div>
</div>
<a id="a499c25e27ab7e173a47a0deedee71208"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a499c25e27ab7e173a47a0deedee71208">&#9670;&nbsp;</a></span>num_groups_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32 num_groups_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Other model specifications. </p>

<p class="definition">Definition at line <a class="el" href="estimate-am-sgmm2_8h_source.html#l00234">234</a> of file <a class="el" href="estimate-am-sgmm2_8h_source.html">estimate-am-sgmm2.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00213">MleAmSgmm2Accs::Check()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00806">MleAmSgmm2Updater::ComputeLogA()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00686">MleAmSgmm2Updater::ComputeQ()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00706">MleAmSgmm2Updater::ComputeSMeans()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00122">MleAmSgmm2Accs::Read()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00944">MleAmSgmm2Updater::RenormalizeV()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00365">MleAmSgmm2Accs::ResizeAccumulators()</a>, <a class="el" href="estimate-am-sgmm2-ebw_8cc_source.html#l00027">EbwAmSgmm2Updater::Update()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00612">MleAmSgmm2Updater::Update()</a>, <a class="el" href="estimate-am-sgmm2-ebw_8cc_source.html#l00261">EbwAmSgmm2Updater::UpdatePhoneVectors()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00782">MleAmSgmm2Updater::UpdatePhoneVectors()</a>, <a class="el" href="estimate-am-sgmm2-ebw_8cc_source.html#l00178">EbwAmSgmm2Updater::UpdatePhoneVectorsInternal()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00838">MleAmSgmm2Updater::UpdatePhoneVectorsInternal()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l01321">MleAmSgmm2Updater::UpdateW()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l01258">MleAmSgmm2Updater::UpdateWGetStats()</a>, and <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00034">MleAmSgmm2Accs::Write()</a>.</p>

</div>
</div>
<a id="acdf59753b6f2b237f080a13a5c643516"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdf59753b6f2b237f080a13a5c643516">&#9670;&nbsp;</a></span>num_pdfs_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32 num_pdfs_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="estimate-am-sgmm2_8h_source.html#l00234">234</a> of file <a class="el" href="estimate-am-sgmm2_8h_source.html">estimate-am-sgmm2.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00213">MleAmSgmm2Accs::Check()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00122">MleAmSgmm2Accs::Read()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00365">MleAmSgmm2Accs::ResizeAccumulators()</a>, <a class="el" href="estimate-am-sgmm2-ebw_8cc_source.html#l00672">EbwAmSgmm2Updater::UpdateSubstateWeights()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l01682">MleAmSgmm2Updater::UpdateSubstateWeights()</a>, and <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00034">MleAmSgmm2Accs::Write()</a>.</p>

</div>
</div>
<a id="aca127a1d0cd66fd41332c87a9b84d24d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca127a1d0cd66fd41332c87a9b84d24d">&#9670;&nbsp;</a></span>phn_space_dim_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32 phn_space_dim_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="estimate-am-sgmm2_8h_source.html#l00233">233</a> of file <a class="el" href="estimate-am-sgmm2_8h_source.html">estimate-am-sgmm2.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00213">MleAmSgmm2Accs::Check()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00686">MleAmSgmm2Updater::ComputeQ()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00122">MleAmSgmm2Accs::Read()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00944">MleAmSgmm2Updater::RenormalizeV()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00365">MleAmSgmm2Accs::ResizeAccumulators()</a>, <a class="el" href="estimate-am-sgmm2-ebw_8cc_source.html#l00178">EbwAmSgmm2Updater::UpdatePhoneVectorsInternal()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00838">MleAmSgmm2Updater::UpdatePhoneVectorsInternal()</a>, <a class="el" href="estimate-am-sgmm2-ebw_8cc_source.html#l00370">EbwAmSgmm2Updater::UpdateW()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l01321">MleAmSgmm2Updater::UpdateW()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l01258">MleAmSgmm2Updater::UpdateWGetStats()</a>, and <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00034">MleAmSgmm2Accs::Write()</a>.</p>

</div>
</div>
<a id="a2545b9e5768cf47a08c648fda6b794d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2545b9e5768cf47a08c648fda6b794d3">&#9670;&nbsp;</a></span>R_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classkaldi_1_1SpMatrix.html">SpMatrix</a>&lt;double&gt; &gt; R_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>R_{i}, quadratic term for speaker subspace estimation. Dim is [I][T][T]. </p>

<p class="definition">Definition at line <a class="el" href="estimate-am-sgmm2_8h_source.html#l00186">186</a> of file <a class="el" href="estimate-am-sgmm2_8h_source.html">estimate-am-sgmm2.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00213">MleAmSgmm2Accs::Check()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00580">MleAmSgmm2Accs::CommitStatsForSpk()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00122">MleAmSgmm2Accs::Read()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l01525">MleAmSgmm2Updater::RenormalizeN()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00365">MleAmSgmm2Accs::ResizeAccumulators()</a>, <a class="el" href="estimate-am-sgmm2-ebw_8cc_source.html#l00524">EbwAmSgmm2Updater::UpdateN()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l01486">MleAmSgmm2Updater::UpdateN()</a>, and <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00034">MleAmSgmm2Accs::Write()</a>.</p>

</div>
</div>
<a id="aa19bc4619d4a1d60e886185b7be44094"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa19bc4619d4a1d60e886185b7be44094">&#9670;&nbsp;</a></span>rand_prune_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> rand_prune_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="estimate-am-sgmm2_8h_source.html#l00236">236</a> of file <a class="el" href="estimate-am-sgmm2_8h_source.html">estimate-am-sgmm2.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00487">MleAmSgmm2Accs::AccumulateFromPosteriors()</a>.</p>

</div>
</div>
<a id="a3e4cc17a0737faace498025a5afe4552"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e4cc17a0737faace498025a5afe4552">&#9670;&nbsp;</a></span>S_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classkaldi_1_1SpMatrix.html">SpMatrix</a>&lt;double&gt; &gt; S_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>S_{i}^{-}, scatter of adapted feature vectors x_{i}(t). Dim is [I][D][D]. </p>

<p class="definition">Definition at line <a class="el" href="estimate-am-sgmm2_8h_source.html#l00188">188</a> of file <a class="el" href="estimate-am-sgmm2_8h_source.html">estimate-am-sgmm2.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00487">MleAmSgmm2Accs::AccumulateFromPosteriors()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00213">MleAmSgmm2Accs::Check()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00122">MleAmSgmm2Accs::Read()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00365">MleAmSgmm2Accs::ResizeAccumulators()</a>, <a class="el" href="estimate-am-sgmm2-ebw_8cc_source.html#l00597">EbwAmSgmm2Updater::UpdateVars()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l01566">MleAmSgmm2Updater::UpdateVars()</a>, and <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00034">MleAmSgmm2Accs::Write()</a>.</p>

</div>
</div>
<a id="a4ceee077c0ba5d4d5aa0336619bb73c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ceee077c0ba5d4d5aa0336619bb73c2">&#9670;&nbsp;</a></span>spk_space_dim_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32 spk_space_dim_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="estimate-am-sgmm2_8h_source.html#l00233">233</a> of file <a class="el" href="estimate-am-sgmm2_8h_source.html">estimate-am-sgmm2.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00487">MleAmSgmm2Accs::AccumulateFromPosteriors()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00213">MleAmSgmm2Accs::Check()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00122">MleAmSgmm2Accs::Read()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l01525">MleAmSgmm2Updater::RenormalizeN()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00365">MleAmSgmm2Accs::ResizeAccumulators()</a>, <a class="el" href="estimate-am-sgmm2-ebw_8cc_source.html#l00524">EbwAmSgmm2Updater::UpdateN()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l01486">MleAmSgmm2Updater::UpdateN()</a>, <a class="el" href="estimate-am-sgmm2-ebw_8cc_source.html#l00463">EbwAmSgmm2Updater::UpdateU()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l01439">MleAmSgmm2Updater::UpdateU()</a>, and <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00034">MleAmSgmm2Accs::Write()</a>.</p>

</div>
</div>
<a id="a09481f5d4524b97d7bcb77148ffd1d23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09481f5d4524b97d7bcb77148ffd1d23">&#9670;&nbsp;</a></span>t_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classkaldi_1_1Matrix.html">Matrix</a>&lt;double&gt; t_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>[SSGMM] each row is one of the t_i quantities in the less-exact version of the SSGMM update for the speaker weight projections. </p>
<p>Dimension is [I][T] </p>

<p class="definition">Definition at line <a class="el" href="estimate-am-sgmm2_8h_source.html#l00205">205</a> of file <a class="el" href="estimate-am-sgmm2_8h_source.html">estimate-am-sgmm2.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00213">MleAmSgmm2Accs::Check()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00580">MleAmSgmm2Accs::CommitStatsForSpk()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00122">MleAmSgmm2Accs::Read()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00365">MleAmSgmm2Accs::ResizeAccumulators()</a>, <a class="el" href="estimate-am-sgmm2-ebw_8cc_source.html#l00463">EbwAmSgmm2Updater::UpdateU()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l01439">MleAmSgmm2Updater::UpdateU()</a>, and <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00034">MleAmSgmm2Accs::Write()</a>.</p>

</div>
</div>
<a id="ae0e7c36868476594fbc8f83d4f04ab58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0e7c36868476594fbc8f83d4f04ab58">&#9670;&nbsp;</a></span>total_frames_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double total_frames_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="estimate-am-sgmm2_8h_source.html#l00230">230</a> of file <a class="el" href="estimate-am-sgmm2_8h_source.html">estimate-am-sgmm2.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00487">MleAmSgmm2Accs::AccumulateFromPosteriors()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00122">MleAmSgmm2Accs::Read()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00365">MleAmSgmm2Accs::ResizeAccumulators()</a>, <a class="el" href="estimate-am-sgmm2-ebw_8cc_source.html#l00027">EbwAmSgmm2Updater::Update()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00612">MleAmSgmm2Updater::Update()</a>, and <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00034">MleAmSgmm2Accs::Write()</a>.</p>

</div>
</div>
<a id="a20c6a52171036e613e0f3d768e91b905"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20c6a52171036e613e0f3d768e91b905">&#9670;&nbsp;</a></span>total_like_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double total_like_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="estimate-am-sgmm2_8h_source.html#l00230">230</a> of file <a class="el" href="estimate-am-sgmm2_8h_source.html">estimate-am-sgmm2.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00471">MleAmSgmm2Accs::Accumulate()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00122">MleAmSgmm2Accs::Read()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00365">MleAmSgmm2Accs::ResizeAccumulators()</a>, <a class="el" href="estimate-am-sgmm2-ebw_8cc_source.html#l00027">EbwAmSgmm2Updater::Update()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00612">MleAmSgmm2Updater::Update()</a>, and <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00034">MleAmSgmm2Accs::Write()</a>.</p>

</div>
</div>
<a id="a0a2c03a7a784c564939cee6cf0ce1503"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a2c03a7a784c564939cee6cf0ce1503">&#9670;&nbsp;</a></span>U_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classkaldi_1_1SpMatrix.html">SpMatrix</a>&lt;double&gt; &gt; U_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>the U_i quantities from the less-exact version of the SSGMM update for the speaker weight projections. </p>
<p>Dimension is [I][T][T] </p>

<p class="definition">Definition at line <a class="el" href="estimate-am-sgmm2_8h_source.html#l00217">217</a> of file <a class="el" href="estimate-am-sgmm2_8h_source.html">estimate-am-sgmm2.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00213">MleAmSgmm2Accs::Check()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00580">MleAmSgmm2Accs::CommitStatsForSpk()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00122">MleAmSgmm2Accs::Read()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00365">MleAmSgmm2Accs::ResizeAccumulators()</a>, <a class="el" href="estimate-am-sgmm2-ebw_8cc_source.html#l00463">EbwAmSgmm2Updater::UpdateU()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l01439">MleAmSgmm2Updater::UpdateU()</a>, and <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00034">MleAmSgmm2Accs::Write()</a>.</p>

</div>
</div>
<a id="a0a2e94703301da6f55bedf8183bcff39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a2e94703301da6f55bedf8183bcff39">&#9670;&nbsp;</a></span>Y_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classkaldi_1_1Matrix.html">Matrix</a>&lt;double&gt; &gt; Y_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The stats which are not tied to any state. </p>
<p>Stats Y_{i} for phonetic-subspace projections M; Dim is [I][D][S]. </p>

<p class="definition">Definition at line <a class="el" href="estimate-am-sgmm2_8h_source.html#l00182">182</a> of file <a class="el" href="estimate-am-sgmm2_8h_source.html">estimate-am-sgmm2.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00487">MleAmSgmm2Accs::AccumulateFromPosteriors()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00213">MleAmSgmm2Accs::Check()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00706">MleAmSgmm2Updater::ComputeSMeans()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l01183">MleAmSgmm2Updater::MapUpdateM()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00122">MleAmSgmm2Accs::Read()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00365">MleAmSgmm2Accs::ResizeAccumulators()</a>, <a class="el" href="estimate-am-sgmm2-ebw_8cc_source.html#l00283">EbwAmSgmm2Updater::UpdateM()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l01040">MleAmSgmm2Updater::UpdateM()</a>, and <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00034">MleAmSgmm2Accs::Write()</a>.</p>

</div>
</div>
<a id="a1930fef1612d54bcfe0c522b6a64ee8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1930fef1612d54bcfe0c522b6a64ee8a">&#9670;&nbsp;</a></span>y_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classkaldi_1_1Matrix.html">Matrix</a>&lt;double&gt; &gt; y_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The SGMM state specific stats. </p>
<p>Statistics y_{jm} for state vectors v_{jm}. dimension is [J1][#mix][S]. </p>

<p class="definition">Definition at line <a class="el" href="estimate-am-sgmm2_8h_source.html#l00192">192</a> of file <a class="el" href="estimate-am-sgmm2_8h_source.html">estimate-am-sgmm2.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00487">MleAmSgmm2Accs::AccumulateFromPosteriors()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00213">MleAmSgmm2Accs::Check()</a>, <a class="el" href="estimate-am-sgmm2-ebw_8cc_source.html#l00146">EbwAmSgmm2Updater::ComputePhoneVecStats()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00122">MleAmSgmm2Accs::Read()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00365">MleAmSgmm2Accs::ResizeAccumulators()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00838">MleAmSgmm2Updater::UpdatePhoneVectorsInternal()</a>, and <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00034">MleAmSgmm2Accs::Write()</a>.</p>

</div>
</div>
<a id="a89ac772ad34d9a54a888878fe747525b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89ac772ad34d9a54a888878fe747525b">&#9670;&nbsp;</a></span>Z_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classkaldi_1_1Matrix.html">Matrix</a>&lt;double&gt; &gt; Z_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stats Z_{i} for speaker-subspace projections N. Dim is [I][D][T]. </p>

<p class="definition">Definition at line <a class="el" href="estimate-am-sgmm2_8h_source.html#l00184">184</a> of file <a class="el" href="estimate-am-sgmm2_8h_source.html">estimate-am-sgmm2.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00487">MleAmSgmm2Accs::AccumulateFromPosteriors()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00213">MleAmSgmm2Accs::Check()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00122">MleAmSgmm2Accs::Read()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00365">MleAmSgmm2Accs::ResizeAccumulators()</a>, <a class="el" href="estimate-am-sgmm2-ebw_8cc_source.html#l00524">EbwAmSgmm2Updater::UpdateN()</a>, <a class="el" href="estimate-am-sgmm2_8cc_source.html#l01486">MleAmSgmm2Updater::UpdateN()</a>, and <a class="el" href="estimate-am-sgmm2_8cc_source.html#l00034">MleAmSgmm2Accs::Write()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>sgmm2/<a class="el" href="estimate-am-sgmm2_8h_source.html">estimate-am-sgmm2.h</a></li>
<li>sgmm2/<a class="el" href="estimate-am-sgmm2_8cc_source.html">estimate-am-sgmm2.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacekaldi.html">kaldi</a></li><li class="navelem"><a class="el" href="classkaldi_1_1MleAmSgmm2Accs.html">MleAmSgmm2Accs</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
